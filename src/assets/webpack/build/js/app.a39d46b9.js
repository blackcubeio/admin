"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[143],{513:(e,t,n)=>{var i={};n.r(i),n.d(i,{default:()=>I,dependencies:()=>J,name:()=>A,register:()=>U,template:()=>F});var s={};n.r(s),n.d(s,{default:()=>Q,dependencies:()=>K,name:()=>G,register:()=>Z,template:()=>z});var o={};n.r(o),n.d(o,{default:()=>ne,dependencies:()=>ie,name:()=>ee,register:()=>oe,template:()=>te});var a={};n.r(a),n.d(a,{default:()=>Ee,dependencies:()=>Oe,name:()=>be,register:()=>Ce,template:()=>ye});var l={};n.r(l),n.d(l,{default:()=>Me,dependencies:()=>Ae,name:()=>Ne,register:()=>Ie,template:()=>Pe});var r={};n.r(r),n.d(r,{default:()=>_e,dependencies:()=>Ge,name:()=>Xe,register:()=>Qe,template:()=>$e});var c={};n.r(c),n.d(c,{default:()=>tt,dependencies:()=>nt,name:()=>Ze,register:()=>st,template:()=>et});var h={};n.r(h),n.d(h,{default:()=>ct,dependencies:()=>ht,name:()=>lt,register:()=>pt,template:()=>rt});var d={};n.r(d),n.d(d,{default:()=>Ct,dependencies:()=>wt,name:()=>Ot,register:()=>jt,template:()=>Tt});var p={};n.r(p),n.d(p,{default:()=>Pt,dependencies:()=>Mt,name:()=>Dt,register:()=>Ft,template:()=>Nt});var g={};n.r(g),n.d(g,{default:()=>Vt,dependencies:()=>qt,name:()=>Bt,register:()=>$t,template:()=>Wt});var u={};n.r(u),n.d(u,{default:()=>tn,dependencies:()=>nn,name:()=>Zt,register:()=>on,template:()=>en});var f={};n.r(f),n.d(f,{default:()=>pn,dependencies:()=>gn,name:()=>hn,register:()=>fn,template:()=>dn});var m={};n.r(m),n.d(m,{default:()=>wn,dependencies:()=>xn,name:()=>Tn,register:()=>Ln,template:()=>Cn});var v={};n.r(v),n.d(v,{Alert:()=>De,Blocs:()=>Rt,Burger:()=>Ye,Composites:()=>Ut,ElementToolbar:()=>Yt,File:()=>Et,Notification:()=>ue,NotificationCenter:()=>ve,Overlay:()=>qe,Permissions:()=>cn,Profile:()=>_,QuillEditor:()=>Mn,SchemaEditor:()=>On,Test:()=>at});var b={};n.r(b),n.d(b,{Ajaxify:()=>M,AlertDelete:()=>Jn,BcTestCustomAttribute:()=>C,BroadcastElement:()=>Yn,Menu:()=>k,NotificationTrigger:()=>$n,OverlayClose:()=>Gn,OverlayTrigger:()=>Wn,ToggleDependencies:()=>ei});var y=n(262),E=n(724),O=n(285),T=function(e,t){return function(n,i){t(n,i,e)}};let C=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.logger=e.scopeTo("BcTestCustomAttribute")}attaching(){this.logger.trace("Attaching")}};var w,x;C=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.OVJ)("bc-test"),T(0,E.Xo),T(1,E.Rp),T(2,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,HTMLElement])],C),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSE=1]="CLOSE"}(w||(w={})),function(e){e[e.OPENING=0]="OPENING",e[e.OPENED=1]="OPENED",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(x||(x={}));var j,L=function(e,t){return function(n,i){t(n,i,e)}};let k=j=class{constructor(e,t,n,i,s){this.logger=e,this.ea=t,this.platform=n,this.storageService=i,this.element=s,this.onClickExpander=e=>{const t=e.currentTarget.closest(".navbar-item"),n=t.dataset.blackcubeSection;t.classList.contains("expanded")?(t.classList.remove("expanded"),n&&this.storageService.setSectionClosed("menu",n)):(t.classList.add("expanded"),n&&this.storageService.setSectionOpened("menu",n))},this.onMenuEvent=e=>{this.isMobile&&(e.type===w.OPEN?this.openWithTransition():e.type===w.CLOSE&&this.closeWithTransition())},this.onCloseMobileMenu=e=>{e.preventDefault(),this.ea.publish(j.channel,{type:w.CLOSE}),this.logger.trace("Close mobile menu")},this.logger=e.scopeTo("Menu")}attaching(){this.logger.trace("Attaching"),this.element.classList.contains("menu-mobile")?(this.isMobile=!0,this.element.style.display="none",this.menuMobileCloseBtn=this.element.querySelector("[data-ref=close]"),this.menuMobileClosePanel=this.element.querySelector("[data-ref=closepanel]"),this.menuMobileOffcanvas=this.element.querySelector("[data-ref=offcanvas]"),this.menuMobileOverlay=this.element.querySelector("[data-ref=overlay]"),this.menuMobileSubscriber=this.ea.subscribe(j.channel,this.onMenuEvent)):this.element.classList.contains("menu-desktop")&&(this.isMobile=!1,this.menuDesktop=this.element.querySelector(".menu-desktop")),this.expanders=this.element.querySelectorAll(".navbar-item-btn")}attached(){this.logger.trace("Attached"),this.isMobile&&this.menuMobileCloseBtn&&this.menuMobileCloseBtn.addEventListener("click",this.onCloseMobileMenu),this.element.querySelectorAll("[data-blackcube-section]").forEach((e=>{const t=e.dataset.blackcubeSection;t&&(this.storageService.getSectionOpened("menu",t)?e.classList.add("expanded"):e.classList.remove("expanded"))})),this.expanders.forEach(((e,t)=>{e.addEventListener("click",this.onClickExpander)}))}detaching(){this.logger.trace("Detached"),this.expanders.forEach(((e,t)=>{e.removeEventListener("click",this.onClickExpander)})),this.isMobile&&this.menuMobileCloseBtn.removeEventListener("click",this.onCloseMobileMenu)}openWithTransition(){return this.element.style.display="inherit",this.ea.publish(j.channel,{status:x.OPENING}),new Promise((e=>{setTimeout((()=>{e(!0)}))})).then((e=>{const t=[],n=new Promise((e=>{const t=n=>{this.menuMobileOverlay.classList.contains("opening")&&(this.menuMobileOverlay.classList.remove("opening","closed"),this.menuMobileOverlay.removeEventListener("transitionend",t),e(!0))};this.menuMobileOverlay.addEventListener("transitionend",t),this.menuMobileOverlay.classList.remove("closed"),this.menuMobileOverlay.classList.add("opening","opened")}));t.push(n);const i=new Promise((e=>{const t=n=>{this.menuMobileOffcanvas.classList.contains("opening")&&(this.menuMobileOffcanvas.classList.remove("opening","closed"),this.menuMobileOffcanvas.removeEventListener("transitionend",t),e(!0))};this.menuMobileOffcanvas.addEventListener("transitionend",t),this.menuMobileOffcanvas.classList.remove("closed"),this.menuMobileOffcanvas.classList.add("opening","opened")}));t.push(i);const s=new Promise((e=>{const t=n=>{this.menuMobileClosePanel.classList.contains("opening")&&(this.menuMobileClosePanel.classList.remove("opening","closed"),this.menuMobileClosePanel.removeEventListener("transitionend",t),e(!0))};this.menuMobileClosePanel.addEventListener("transitionend",t),this.menuMobileClosePanel.classList.remove("closed"),this.menuMobileClosePanel.classList.add("opening","opened")}));return t.push(s),Promise.all(t)})).then((e=>(this.ea.publish(j.channel,{status:x.OPENED}),e.reduce(((e,t)=>t&&e),!0))))}closeWithTransition(){return this.ea.publish(j.channel,{status:x.CLOSING}),new Promise((e=>{setTimeout((()=>{e(!0)}))})).then((e=>{const t=[],n=new Promise((e=>{const t=n=>{this.menuMobileOverlay.classList.contains("closing")&&(this.menuMobileOverlay.classList.remove("closing","opened"),this.menuMobileOverlay.removeEventListener("transitionend",t),e(!0))};this.menuMobileOverlay.addEventListener("transitionend",t),this.menuMobileOverlay.classList.remove("opened"),this.menuMobileOverlay.classList.add("closing","closed")}));t.push(n);const i=new Promise((e=>{const t=n=>{this.menuMobileOffcanvas.classList.contains("closing")&&(this.menuMobileOffcanvas.classList.remove("closing","opened"),this.menuMobileOffcanvas.removeEventListener("transitionend",t),e(!0))};this.menuMobileOffcanvas.addEventListener("transitionend",t),this.menuMobileOffcanvas.classList.remove("opened"),this.menuMobileOffcanvas.classList.add("closing","closed")}));t.push(i);const s=new Promise((e=>{const t=n=>{this.menuMobileClosePanel.classList.contains("closing")&&(this.menuMobileClosePanel.classList.remove("closing","opened"),this.menuMobileClosePanel.removeEventListener("transitionend",t),e(!0))};this.menuMobileClosePanel.addEventListener("transitionend",t),this.menuMobileClosePanel.classList.remove("opened"),this.menuMobileClosePanel.classList.add("closing","closed")}));return t.push(s),Promise.all(t)})).then((e=>(this.ea.publish(j.channel,{status:x.CLOSED}),this.element.style.display="none",e.reduce(((e,t)=>t&&e),!0))))}};k.channel="Menu",k=j=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.OVJ)("blackcube-menu"),L(0,E.Xo),L(1,E.Rp),L(2,O.TIm),L(4,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,Object,class{getElementOpened(e,t,n){return""!==n&&""!==t&&""!==e&&"1"===localStorage.getItem("admin:element:"+e+"-"+n+":"+t+":opened")}setElementOpened(e,t,n){""!==n&&""!==t&&""!==e&&localStorage.setItem("admin:element:"+e+"-"+n+":"+t+":opened","1")}setElementClosed(e,t,n){""!==n&&""!==t&&""!==e&&localStorage.removeItem("admin:element:"+e+"-"+n+":"+t+":opened")}getSectionOpened(e,t){return""!==t&&""!==e&&"1"===localStorage.getItem("admin:section:"+e+"-"+t+":opened")}setSectionOpened(e,t){""!==t&&""!==e&&localStorage.setItem("admin:section:"+e+"-"+t+":opened","1")}setSectionClosed(e,t){""!==t&&""!==e&&localStorage.removeItem("admin:section:"+e+"-"+t+":opened")}getElementSlugOpened(e){return""!==e&&"1"===localStorage.getItem("admin:element:"+e+":slug:opened")}setElementSlugOpened(e){""!==e&&localStorage.setItem("admin:element:"+e+":slug:opened","1")}setElementSlugClosed(e){""!==e&&localStorage.removeItem("admin:element:"+e+":slug:opened")}},HTMLElement])],k);var S=n(157);let R=class{constructor(e){this.httpClient=e,this.httpClient.configure((e=>(e.withDefaults({headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"include"}),e)))}getHtmlContent(e){return this.httpClient.get(e,{headers:{Accept:"text/html"}}).then((e=>e.text()))}runFormRequest(e,t=null,n="post"){return this.httpClient.fetch(e,{method:n.toLocaleLowerCase(),body:t}).then((e=>e.text()))}fetch(e,t){return this.httpClient.fetch(e,t)}deleteRequest(e,t=""){return this.httpClient.fetch(e,{method:"delete",headers:{"X-CSRF-Token":t}})}};var D,N;R=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(D=0,N=S.tL,function(e,t){N(e,t,D)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],R);var P=function(e,t){return function(n,i){t(n,i,e)}};let M=class{constructor(e,t,n,i){this.logger=e,this.platform=t,this.httpService=n,this.element=i,this.onDelegateEvent=e=>{if(e.target){const t=e.target.closest("[data-ajaxify-source]");if(t){const n=t.dataset.ajaxifySource;let i=t.dataset.ajaxifyUrl;!i&&(t instanceof HTMLLinkElement||t instanceof HTMLAnchorElement)&&(i=t.href);const s=this.element.querySelector('[data-ajaxify-target="'+n+'"]');n&&i&&s&&(e.preventDefault(),this.httpService.getHtmlContent(i).then((e=>{s.innerHTML=e,this.platform.taskQueue.queueTask((()=>{s.scrollIntoView({behavior:"smooth"})}))})))}}},this.logger=e.scopeTo("Ajaxify")}attaching(){this.logger.trace("Attaching")}attached(){this.element.addEventListener("click",this.onDelegateEvent),this.logger.trace("Attached")}detaching(){this.logger.trace("Detaching"),this.element.removeEventListener("click",this.onDelegateEvent)}};M=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.OVJ)("blackcube-ajaxify"),P(0,E.Xo),P(1,O.TIm),P(3,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,R,HTMLElement])],M);const A="profile",F='<template>\n    <div>\n        <button type="button" class="profile-btn" click.delegate="onToggle($event)" id="user-menu-button" aria-expanded="false" aria-haspopup="true">\n            <span class="sr-only">Open user menu</span>\n            <img if.bind="avatar" class="profile-img" src.bind="avatar" alt="">\n            <span else class="profile-initials">\n                <span class="profile-initials-letters">${initials}</span>\n            </span>\n        </button>\n    </div>\n    <div if.bind="items.length > 0" ref="menu" class="profile-menu closed"  role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1">\n        <a repeat.for="item of items" click.delegate="onClickItem($event, $index)" href.bind="item.url" class="profile-menu-item" class.bind="item.active ? \'active\': \'\'" role="menuitem" tabindex="-1" innerHTML.bind="item.label"></a>\n    </div>\n</template>\n',I=F,J=[];let H;function U(e){H||(H=O.b_N.define({name:A,template:F,dependencies:J})),e.register(H)}var B,W=n(736);!function(e){e[e.OPENED=0]="OPENED",e[e.OPENING=1]="OPENING",e[e.CLOSED=2]="CLOSED",e[e.CLOSING=3]="CLOSING"}(B||(B={}));var V,q=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},X=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$=function(e,t){return function(n,i){t(n,i,e)}};let _=V=class{constructor(e,t,n,i){this.logger=e,this.ea=t,this.platform=n,this.element=i,this.items=[],this.hasListener=!1,this.onTransitionMenuEnded=e=>{this.menu.classList.contains("closing")?(this.menu.classList.remove("closing","opened"),this.menu.style.display="none",this.ea.publish(V.channel,{status:B.CLOSED})):this.menu.classList.contains("opening")&&(this.menu.classList.remove("opening","closed"),this.ea.publish(V.channel,{status:B.OPENED}))},this.logger=e.scopeTo("Profile")}attaching(){this.logger.trace("Attaching")}attached(){this.logger.trace("Attached"),this.items.length>0&&(this.hasListener=!0,this.menu.style.display="none",this.menu.addEventListener("transitionend",this.onTransitionMenuEnded))}detaching(){this.logger.trace("Detaching"),!0===this.hasListener&&this.menu.removeEventListener("transitionend",this.onTransitionMenuEnded)}onToggle(e){this.items.length>0&&(this.menu.classList.contains("opened")?this.closeMenu(e):this.menu.classList.contains("closed")&&this.openMenu(e))}onClickItem(e,t){this.closeMenu(e)}openMenu(e){this.ea.publish(V.channel,{status:B.OPENING}),this.menu.style.display="inherit",this.platform.setTimeout((()=>{this.menu.classList.remove("closed"),this.menu.classList.add("opening","opened")}),0)}closeMenu(e){this.ea.publish(V.channel,{status:B.CLOSING}),this.menu.classList.remove("opened"),this.menu.classList.add("closing","closed")}handleTransitionMenu(e,t){this.logger.debug("onChangeItems",e,t),e>0&&0===t?(this.platform.setTimeout((()=>{this.menu.addEventListener("transitionend",this.onTransitionMenuEnded)})),this.hasListener=!0):0===e&&t>0&&(this.menu.removeEventListener("transitionend",this.onTransitionMenuEnded),this.hasListener=!1)}};_.channel="Profile",q([(0,O.ExJ)({mode:W.D_.toView}),X("design:type",String)],_.prototype,"avatar",void 0),q([(0,O.ExJ)({mode:W.D_.toView}),X("design:type",String)],_.prototype,"initials",void 0),q([(0,O.ExJ)({mode:W.D_.toView}),X("design:type",Array)],_.prototype,"items",void 0),q([(0,O.YPB)((e=>e.items.length)),X("design:type",Function),X("design:paramtypes",[Object,Object]),X("design:returntype",void 0)],_.prototype,"handleTransitionMenu",null),_=V=q([(0,O.MoW)(Object.assign(Object.assign({},i),{name:"blackcube-profile"})),$(0,E.Xo),$(1,E.Rp),$(2,O.TIm),$(3,O.ND1),X("design:paramtypes",[Object,Object,Object,HTMLElement])],_);const G="notification-center",z='<template>\n    <div aria-live="assertive" class="notification-center">\n        <blackcube-notification repeat.for="notification of notifications"\n                                class="notification"\n            type.bind="notification.type"\n        title.bind="notification.title"\n        content.bind="notification.content"\n        index.bind="$index"\n        duration.bind="notification.duration">\n        </blackcube-notification>\n    </div>\n</template>\n',Q=z,K=[];let Y;function Z(e){Y||(Y=O.b_N.define({name:G,template:z,dependencies:K})),e.register(Y)}const ee="notification",te='<template>\n        \x3c!--\n          NotificationData panel, dynamically insert this into the live region when it needs to be displayed\n\n          Entering: "transform ease-out duration-300 transition"\n            From: "translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2"\n            To: "translate-y-0 opacity-100 sm:translate-x-0"\n          Leaving: "transition ease-in duration-100"\n            From: "opacity-100"\n            To: "opacity-0"\n        --\x3e\n        <div ref="wrapper" class="notification-wrapper closed">\n            <div class="notification-icon">\n                \x3c!-- Heroicon name: outline/check-circle --\x3e\n                <svg if.bind="type === notificationTypes.CHECK" class="notification-icon-img check" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />\n                </svg>\n                \x3c!-- Heroicon name: outline/exclamation --\x3e\n                <svg if.bind="type === notificationTypes.EXCLAMATION" class="notification-icon-img exclamation" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />\n                </svg>\n                \x3c!-- Heroicon name: outline/information --\x3e\n                <svg if.bind="type === notificationTypes.INFORMATION" class="notification-icon-img" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n                </svg>\n            </div>\n            <div class="notification-panel">\n                <p class="notification-title">\n                    ${title}\n                </p>\n                <p class="notification-content">\n                    ${content}\n                </p>\n            </div>\n            <div class="notification-btn-wrapper">\n                <button  click.delegate="onClose($event)" class="notification-btn">\n                    <span class="sr-only">Close</span>\n                    \x3c!-- Heroicon name: solid/x --\x3e\n                    <svg class="notification-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">\n                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />\n                    </svg>\n                </button>\n            </div>\n        </div>\n</template>\n',ne=te,ie=[];let se;function oe(e){se||(se=O.b_N.define({name:ee,template:te,dependencies:ie})),e.register(se)}var ae,le,re;function ce(e,t){return new Promise((t=>{e.startingCallback&&e.startingCallback(),e.beforeDisplayStyle&&(e.element.style.display=e.beforeDisplayStyle),setTimeout((()=>{t(!0)}),10)})).then((e=>{const n=[Promise.resolve(!0)];return t.forEach((e=>{const t=new Promise((t=>{const n=i=>{e.element.removeEventListener("transitionend",n),e.transition.forEach((t=>{e.element.classList.remove(t)})),t(!0)};e.element.addEventListener("transitionend",n),e.from.forEach((t=>{e.element.classList.remove(t)})),e.to.forEach((t=>{e.element.classList.add(t)})),e.transition.forEach((t=>{e.element.classList.add(t)}))}));n.push(t)})),Promise.all(n)})).then((e=>{const t=e.reduce(((e,t)=>e&&t),!0);return new Promise((e=>{setTimeout((()=>{e(t)}))}))})).then((e=>{const n=[];return n.push(Promise.resolve(e)),t.forEach((e=>{e.transition.forEach((t=>{n.push(new Promise((n=>{e.element.classList.remove(t),n(!0)})))}))})),Promise.all(n)})).then((t=>(e.afterDisplayStyle&&(e.element.style.display=e.afterDisplayStyle),e.endingCallback&&e.endingCallback(),new Promise((e=>{setTimeout((()=>{e(!0)}),10)})))))}!function(e){e[e.OPENING=0]="OPENING",e[e.OPENED=1]="OPENED",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.REMOVED=4]="REMOVED"}(ae||(ae={})),function(e){e.CHECK="check",e.EXCLAMATION="exclamation",e.INFORMATION="information"}(le||(le={})),function(e){e[e.CREATE=0]="CREATE",e[e.REMOVE_ALL=1]="REMOVE_ALL"}(re||(re={}));var he,de=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},pe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ge=function(e,t){return function(n,i){t(n,i,e)}};let ue=he=class{constructor(e,t,n,i){this.logger=e,this.ea=t,this.platform=n,this.element=i,this.notificationTypes=le,this.type=le.INFORMATION,this.title="",this.content="",this.logger=e.scopeTo("Notification")}attaching(){this.logger.trace("Attaching",this.duration),this.duration||(this.duration=5e3)}attached(){this.logger.trace("Attached"),this.openWithTransition(),this.closeTimer=this.platform.setTimeout((()=>{this.logger.trace("Auto close"),this.closeWithTransition()}),this.duration)}detaching(){return this.logger.trace("Detaching"),this.wrapper.classList.contains("opened")?this.closeWithTransition().then((e=>Promise.resolve())):Promise.resolve()}onClose(e){e.preventDefault(),this.closeWithTransition()}closeWithTransition(){return this.closeTimer&&this.platform.clearTimeout(this.closeTimer),ce({element:this.wrapper,afterDisplayStyle:"none",startingCallback:()=>{this.ea.publish(he.channel,{status:ae.CLOSING,index:this.index})},endingCallback:()=>{this.ea.publish(he.channel,{status:ae.CLOSED,index:this.index})}},[{element:this.wrapper,from:["opened"],to:["closed"],transition:["closing"]}])}openWithTransition(){return ce({element:this.wrapper,beforeDisplayStyle:"inherit",startingCallback:()=>{this.ea.publish(he.channel,{status:ae.OPENING,index:this.index})},endingCallback:()=>{this.ea.publish(he.channel,{status:ae.OPENED,index:this.index})}},[{element:this.wrapper,from:["closed"],to:["opened"],transition:["opening"]}])}};ue.channel="Notification",de([(0,O.ExJ)(),pe("design:type",String)],ue.prototype,"type",void 0),de([(0,O.ExJ)(),pe("design:type",String)],ue.prototype,"title",void 0),de([(0,O.ExJ)(),pe("design:type",String)],ue.prototype,"content",void 0),de([(0,O.ExJ)(),pe("design:type",Number)],ue.prototype,"index",void 0),de([(0,O.ExJ)(),pe("design:type",Number)],ue.prototype,"duration",void 0),ue=he=de([(0,O.MoW)(Object.assign(Object.assign({},o),{name:"blackcube-notification"})),ge(0,E.Xo),ge(1,E.Rp),ge(2,O.TIm),ge(3,O.ND1),pe("design:paramtypes",[Object,Object,Object,HTMLElement])],ue);var fe,me=function(e,t){return function(n,i){t(n,i,e)}};let ve=fe=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.notifications=[],this.onNotificationEvent=e=>{e.status===ae.CLOSED&&(this.logger.debug("Notification event",e),this.removeNotification(e.index))},this.onNotificationCenterEvent=e=>{e.type===re.CREATE&&e.notification?(this.logger.debug("Notification event",e),this.addNotification(e.notification)):e.type===re.REMOVE_ALL&&(this.logger.debug("Should close children"),this.notifications.splice(0,this.notifications.length))},this.logger=e.scopeTo("NotificationCenter")}attaching(){this.logger.trace("Attaching"),this.subscriberNotification=this.ea.subscribe(ue.channel,this.onNotificationEvent),this.subscriber=this.ea.subscribe(fe.channel,this.onNotificationCenterEvent)}attached(){this.logger.trace("Attached")}dispose(){this.subscriberNotification.dispose(),this.subscriber.dispose()}addNotification(e){this.notifications.push(e)}removeNotification(e){this.notifications.splice(e,1)}detaching(){this.logger.trace("Detaching")}};ve.channel="NotificationCenter",ve=fe=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.MoW)(Object.assign(Object.assign({},s),{name:"blackcube-notification-center"})),me(0,E.Xo),me(1,E.Rp),me(2,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,HTMLElement])],ve);const be="alert",ye='<template>\n    <div class="alert" aria-labelledby="modal-title" role="dialog" aria-modal="true">\n        <div class="alert-wrapper">\n            \x3c!--\n              Background overlay, show/hide based on modal state.\n\n              Entering: "ease-out duration-300"\n                From: "opacity-0"\n                To: "opacity-100"\n              Leaving: "ease-in duration-200"\n                From: "opacity-100"\n                To: "opacity-0"\n            --\x3e\n            <div ref="wrapper" click.delegate="onClickCancel($event)" class="alert-overlay closed" aria-hidden="true"></div>\n\n            \x3c!-- This element is to trick the browser into centering the modal contents. --\x3e\n            <span class="alert-fix" aria-hidden="true">&#8203;</span>\n\n            \x3c!--\n              Modal panel, show/hide based on modal state.\n\n              Entering: "ease-out duration-300"\n                From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"\n                To: "opacity-100 translate-y-0 sm:scale-100"\n              Leaving: "ease-in duration-200"\n                From: "opacity-100 translate-y-0 sm:scale-100"\n                To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"\n            --\x3e\n            <div ref="panel" class="alert-panel closed">\n                <div class="alert-panel-content">\n                    <div class="alert-icon" class.bind="type === alertTypes.CHECK ? \'check\' : (type === alertTypes.EXCLAMATION ? \'exclamation\': \'question\')">\n                        \x3c!-- Heroicon name: outline/check --\x3e\n                        <svg if.bind="type === alertTypes.CHECK" class="alert-icon-img" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />\n                        </svg>\n                        \x3c!-- Heroicon name: outline/exclamation --\x3e\n                        <svg if.bind="type === alertTypes.EXCLAMATION" class="alert-icon-img" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />\n                        </svg>\n                        \x3c!-- Heroicon name: outline/information --\x3e\n                        <svg if.bind="type === alertTypes.QUESTION" class="alert-icon-img" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n                        </svg>\n                    </div>\n                    <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">\n                        <au-compose view.bind="htmlData"></au-compose>\n                    </div>\n                </div>\n                <div class="alert-panel-actions">\n                    <button click.delegate="onClickAction($event)" type="button" class="alert-btn" class.bind="type === alertTypes.CHECK ? \'check\' : (type === alertTypes.EXCLAMATION ? \'exclamation\': \'question\')">\n                        ${actionTitle}\n                    </button>\n                    <button click.delegate="onClickCancel($event)" type="button" class="alert-btn">\n                        ${cancelTitle}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n',Ee=ye,Oe=[];let Te;function Ce(e){Te||(Te=O.b_N.define({name:be,template:ye,dependencies:Oe})),e.register(Te)}var we,xe,je;!function(e){e[e.OPENING=0]="OPENING",e[e.OPENED=1]="OPENED",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.REMOVED=4]="REMOVED"}(we||(we={})),function(e){e.CHECK="check",e.EXCLAMATION="exclamation",e.QUESTION="question"}(xe||(xe={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSE=1]="CLOSE"}(je||(je={}));var Le,ke=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Se=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Re=function(e,t){return function(n,i){t(n,i,e)}};let De=Le=class{constructor(e,t,n,i){this.logger=e,this.ea=t,this.httpService=n,this.element=i,this.alertTypes=xe,this.type=xe.QUESTION,this.cancelTitle="Cancel",this.actionTitle="Action",this.stackedAlerts=[],this.alertShown=!1,this.onAlertEvent=e=>{e.type===je.OPEN&&e.alert?(this.type=e.alert.type,e.alert.actionTitle&&(this.actionTitle=e.alert.actionTitle),e.alert.cancelTitle&&(this.cancelTitle=e.alert.cancelTitle),this.contentUrl=e.alert.contentUrl,this.action=e.alert.action,this.cancel=e.alert.cancel,this.httpService.getHtmlContent(this.contentUrl).then((e=>(this.htmlData=e,!0))).then((e=>{this.logger.warn("Opening alert"),this.openWithTransition()}))):e.type===je.CLOSE&&this.closeWithTransition()},this.logger=e.scopeTo("Alert")}attaching(){this.logger.trace("Attaching"),this.element.style.display="none",this.subscription=this.ea.subscribe(Le.channel,this.onAlertEvent)}attached(){this.logger.trace("Attached")}detaching(){this.logger.trace("Detaching")}openWithTransition(){return ce({element:this.element,beforeDisplayStyle:"inherit",startingCallback:()=>{this.logger.warn("opening"),this.ea.publish(Le.channel,{status:we.OPENING})},endingCallback:()=>{this.logger.warn("opened"),this.ea.publish(Le.channel,{status:we.OPENED}),this.alertShown=!0}},[{element:this.wrapper,from:["closed"],to:["opened"],transition:["opening"]},{element:this.panel,from:["closed"],to:["opened"],transition:["opening"]}])}closeWithTransition(){return ce({element:this.element,afterDisplayStyle:"none",startingCallback:()=>{this.ea.publish(Le.channel,{status:we.CLOSING})},endingCallback:()=>{this.ea.publish(Le.channel,{status:we.CLOSED}),this.alertShown=!0}},[{element:this.wrapper,from:["opened"],to:["closed"],transition:["closing"]},{element:this.panel,from:["opened"],to:["closed"],transition:["closing"]}])}onClickAction(e){e.preventDefault(),this.logger.debug("Click action"),this.action&&this.action(),this.closeWithTransition()}onClickCancel(e){e.preventDefault(),this.logger.debug("Click cancel"),this.cancel&&this.cancel(),this.closeWithTransition()}};De.channel="Alert",ke([(0,O.ExJ)(),Se("design:type",String)],De.prototype,"type",void 0),De=Le=ke([(0,O.MoW)(Object.assign(Object.assign({},a),{name:"blackcube-alert"})),Re(0,E.Xo),Re(1,E.Rp),Re(3,O.ND1),Se("design:paramtypes",[Object,Object,R,HTMLElement])],De);const Ne="overlay",Pe='<template>\n    <div class="overlay-wrapper">\n        \x3c!--\n          Background overlay, show/hide based on slide-over state.\n\n          Entering: "ease-in-out duration-500"\n            From: "opacity-0"\n            To: "opacity-100"\n          Leaving: "ease-in-out duration-500"\n            From: "opacity-100"\n            To: "opacity-0"\n        --\x3e\n        <div ref="overlay" click.delegate="onClickClose($event)" class="overlay-overlay closed" aria-hidden="true"></div>\n\n        <div class="overlay-content">\n            \x3c!--\n              Slide-over panel, show/hide based on slide-over state.\n\n              Entering: "transform transition ease-in-out duration-500 sm:duration-700"\n                From: "translate-x-full"\n                To: "translate-x-0"\n              Leaving: "transform transition ease-in-out duration-500 sm:duration-700"\n                From: "translate-x-0"\n                To: "translate-x-full"\n            --\x3e\n            <div ref="panel" class="overlay-panel closed">\n                <div class="overlay-panel-wrapper">\x3c!-- innerHTML.bind="htmlData" --\x3e\n                    \x3c!-- Replace with your content --\x3e\n                    <au-compose view.bind="htmlData"></au-compose>\n\n                    \x3c!-- /End replace --\x3e\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n',Me=Pe,Ae=[];let Fe;function Ie(e){Fe||(Fe=O.b_N.define({name:Ne,template:Pe,dependencies:Ae})),e.register(Fe)}var Je,He;!function(e){e[e.OPENING=0]="OPENING",e[e.OPENED=1]="OPENED",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.REMOVED=4]="REMOVED"}(Je||(Je={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSE=1]="CLOSE"}(He||(He={}));var Ue,Be=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},We=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ve=function(e,t){return function(n,i){t(n,i,e)}};let qe=Ue=class{constructor(e,t,n,i,s,o){this.logger=e,this.ea=t,this.platform=n,this.aurelia=i,this.httpService=s,this.element=o,this.title="",this.abstract="",this.cancelTitle="",this.actionTitle="",this.isOpen=!1,this.onOverlayEvent=e=>{e.type===He.OPEN?this.closeWithTransition().then((t=>{var n,i,s,o;return this.title=e.overlay.title,this.abstract=e.overlay.abstract,this.cancel=null===(n=e.overlay)||void 0===n?void 0:n.cancel,this.action=null===(i=e.overlay)||void 0===i?void 0:i.action,this.cancelTitle=(null===(s=e.overlay)||void 0===s?void 0:s.cancelTitle)||"Cancel",this.actionTitle=(null===(o=e.overlay)||void 0===o?void 0:o.actionTitle)||"Action",this.httpService.getHtmlContent(e.overlay.url)})).then((e=>(this.htmlData=e,new Promise((e=>{this.platform.setTimeout((()=>{e(!0)}),40)}))))).then((e=>this.openWithTransition())):e.type===He.CLOSE&&this.closeWithTransition()},this.onDelegatedEvent=e=>{var t,n,i;const s=null===(t=e.target)||void 0===t?void 0:t.closest("[data-overlay-action]"),o=e;if("click"===e.type&&s&&this.panel.contains(s)){if(s.dataset.overlayAction&&"close"===s.dataset.overlayAction&&(e.stopPropagation(),e.preventDefault(),this.onClickClose(e),this.logger.warn("delegated "+e.type+" done",e.target,e.type)),s.dataset.overlayAction&&"submit"===s.dataset.overlayAction){e.stopPropagation(),e.preventDefault();const t=null===(n=e.target)||void 0===n?void 0:n.closest("form");if(t){const e=new FormData(t);s instanceof HTMLButtonElement&&s.hasAttribute("name")&&s.hasAttribute("value")&&e.append(s.name,s.value),this.httpService.fetch(t.action,{method:t.method,body:e}).then((e=>{const t=e.headers.get("X-Redirect");if(t)throw window.location.href=t,new Error("Should redirect");return e.text()})).then((e=>{this.htmlData=e}))}}}else if("submit"===e.type){const t=null===(i=e.target)||void 0===i?void 0:i.closest("form");if(o.preventDefault(),t){const e=new FormData(t),n=o.submitter;n.hasAttribute("name")&&n.hasAttribute("value")&&e.append(n.name,n.value),this.httpService.runFormRequest(t.action,e,t.method).then((e=>{this.htmlData=e})),this.logger.warn("delegated "+o.type+" done")}}},this.onClickClose=e=>{this.cancel&&this.cancel(),this.closeWithTransition()},this.logger=e.scopeTo("Overlay")}attaching(){this.logger.trace("Attaching"),this.subscriber=this.ea.subscribe(Ue.channel,this.onOverlayEvent)}attached(){this.element.style.display="none",this.logger.trace("Attached"),this.panel.addEventListener("submit",this.onDelegatedEvent),this.panel.addEventListener("click",this.onDelegatedEvent)}detaching(){this.logger.trace("Detaching"),this.panel.removeEventListener("click",this.onDelegatedEvent),this.panel.removeEventListener("submit",this.onDelegatedEvent)}dispose(){this.subscriber.dispose()}openWithTransition(){return!1===this.isOpen?(this.isOpen=!0,ce({element:this.element,beforeDisplayStyle:"inherit",startingCallback:()=>{this.ea.publish(Ue.channel,{status:Je.OPENING})},endingCallback:()=>{this.ea.publish(Ue.channel,{status:Je.OPENED})}},[{element:this.overlay,from:["closed"],to:["opened"],transition:["opening"]},{element:this.panel,from:["closed"],to:["opened"],transition:["opening"]}])):Promise.resolve(!0)}closeWithTransition(){return!0===this.isOpen?(this.isOpen=!1,ce({element:this.element,afterDisplayStyle:"none",startingCallback:()=>{this.ea.publish(Ue.channel,{status:Je.CLOSING})},endingCallback:()=>{this.htmlData="",this.ea.publish(Ue.channel,{status:Je.CLOSED})}},[{element:this.overlay,from:["opened"],to:["closed"],transition:["closing"]},{element:this.panel,from:["opened"],to:["closed"],transition:["closing"]}])):Promise.resolve(!0)}};qe.channel="Overlay",Be([(0,O.ExJ)(),We("design:type",String)],qe.prototype,"title",void 0),Be([(0,O.ExJ)(),We("design:type",String)],qe.prototype,"abstract",void 0),Be([(0,O.ExJ)(),We("design:type",String)],qe.prototype,"cancelTitle",void 0),Be([(0,O.ExJ)(),We("design:type",String)],qe.prototype,"actionTitle",void 0),qe=Ue=Be([(0,O.MoW)(Object.assign(Object.assign({},l),{name:"blackcube-overlay"})),Ve(0,E.Xo),Ve(1,E.Rp),Ve(2,O.TIm),Ve(3,O.Pus),Ve(5,O.ND1),We("design:paramtypes",[Object,Object,Object,Object,R,HTMLElement])],qe);const Xe="burger",$e='<template>\n    <button ref="openMenuBtn" class="px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden">\n        <span class="sr-only">Open sidebar</span>\n        \x3c!-- Heroicon name: outline/menu-alt-2 --\x3e\n        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />\n        </svg>\n    </button>\n</template>\n',_e=$e,Ge=[];let ze;function Qe(e){ze||(ze=O.b_N.define({name:Xe,template:$e,dependencies:Ge})),e.register(ze)}var Ke=function(e,t){return function(n,i){t(n,i,e)}};let Ye=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.onClick=e=>{e.preventDefault(),this.ea.publish(k.channel,{type:w.OPEN})},this.logger=e.scopeTo("Burger")}attaching(){this.logger.trace("Attaching"),this.openMenuBtn.addEventListener("click",this.onClick)}attached(){this.logger.trace("Attached")}detaching(){this.logger.trace("Detaching"),this.openMenuBtn.removeEventListener("click",this.onClick)}};Ye=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.MoW)(Object.assign(Object.assign({},r),{name:"blackcube-burger"})),(0,O.r7y)(),Ke(0,E.Xo),Ke(1,E.Rp),Ke(2,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,HTMLElement])],Ye);const Ze="test",et='<template>\n\n    Test component with button\n\n    <button click.delegate="onClick($event)">Click me</button>\n</template>',tt=et,nt=[];let it;function st(e){it||(it=O.b_N.define({name:Ze,template:et,dependencies:nt})),e.register(it)}var ot=function(e,t){return function(n,i){t(n,i,e)}};let at=class{constructor(e,t){this.logger=e,this.ea=t,this.logger=e.scopeTo("Profile")}attaching(){this.logger.trace("Attaching")}attached(){this.logger.trace("Attached")}bound(){this.logger.trace("Bound")}detaching(){this.logger.trace("Detaching")}onClick(e){e.preventDefault(),this.logger.warn("Click"),this.ea.publish(De.channel,{type:je.OPEN,alert:{type:xe.QUESTION,title:"Titre Alerte",content:"Contenu Alerte",action:()=>{this.logger.warn("Closing with action")},cancel:()=>{this.logger.warn("Closing with cancel")}}})}};at=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.MoW)(Object.assign(Object.assign({},c),{name:"blackcube-test"})),ot(0,E.Xo),ot(1,E.Rp),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object])],at);const lt="file",rt='\n    <div class="element-form-bloc-upload-wrapper">\n        <label class="element-form-bloc-label" if.bind="title">\n            ${title}\n        </label>\n        <div class="element-form-bloc-upload-input-wrapper">\n            <div class="element-form-bloc-upload-drop" class.bind="error?\'error\':\'\'" ref="drop">\n                <div class="element-form-bloc-upload-drop-wrapper">\n                    <svg class="element-form-bloc-upload-icon" ref="icon" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">\n                        <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n                    </svg>\n                    <div class="element-form-bloc-upload-drop-input-wrapper" ref="browse">\n                        <label class="element-form-bloc-upload-drop-input-label">\n                            <span>${uploadFileText}</span>\n                        </label>\n                        <p class="element-form-bloc-upload-drop-input-accessory">${uploadFileDnd}</p>\n                    </div>\n                    <p class="element-form-bloc-abstract">\n                        ${fileInfo}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <p class="element-form-bloc-abstract">${uploadFileDescription}</p>\n        <ul class="w-full">\n            <li class="inline-block text-gray-600 text-center p-2 relative" repeat.for="handledFile of handledFiles">\n                <button click.trigger="onRemove(handledFile, $event)" class="absolute top-0 right-0 rounded-full p-1 text-center bg-white border-gray-600 border h-6 w-6 flex items-center justify-center text-xs hover:border-red-700 hover:text-red-700">\n                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />\n                    </svg>\n                </button>\n                <img class="object-contain max-h-24" src.bind="handledFile.previewUrl" title.bind="handledFile.shortname">\n            </li>\n        </ul>\n    </div>\n',ct=rt,ht=[];let dt;function pt(e){dt||(dt=O.b_N.define({name:lt,template:rt,dependencies:ht})),e.register(dt)}var gt=n(904),ut=n.n(gt),ft=n(938),mt=n.n(ft),vt=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},yt=function(e,t){return function(n,i){t(n,i,e)}};let Et=class{constructor(e,t,n,i){this.logger=e,this.httpService=t,this.platform=n,this.element=i,this.uploadCount=0,this.fileType="",this.multiple=!1,this.value="",this.error=!1,this.onDragEnter=e=>{e.preventDefault();let t=e.currentTarget,n=e.dataTransfer;n&&n.types.indexOf("Files")>=0?(e.stopPropagation(),n.dropEffect="copy",n.effectAllowed="copy",t.classList.add("border-green-700")):n&&(n.dropEffect="none",n.effectAllowed="none")},this.onDragLeave=e=>{e.currentTarget.classList.remove("border-green-700")},this.onFileAdded=(e,t)=>{this.logger.debug("onFileAdded",e,t),this.error=!1,this.resumable.upload()},this.onFileSuccess=(e,t)=>{const n=JSON.parse(t);!1===this.multiple?this.setFile("@blackcubetmp/"+n.finalFilename,e):this.appendFile("@blackcubetmp/"+n.finalFilename,e),this.logger.debug("onFileSuccess",e,t)},this.onFileProgress=(e,t)=>{this.logger.debug("onFileProgress",e,t)},this.onFilesAdded=(e,t)=>{this.logger.debug("onFilesAdded",e,t)},this.onFileRetry=e=>{this.logger.debug("onFileRetry",e)},this.onFileError=(e,t)=>{this.logger.debug("onFileError",e,t)},this.onUploadStart=()=>{this.logger.debug("onUploadStart"),this.handleUploadIcon(1)},this.onComplete=()=>{this.logger.debug("onComplete"),this.handleUploadIcon(-1)},this.onProgress=()=>{this.logger.debug("onProgress")},this.onError=(e,t)=>{this.logger.debug("onError",t,e)},this.onPause=()=>{this.logger.debug("onPause")},this.onBeforeCancel=()=>{this.logger.debug("onBeforeCancel")},this.onCancel=()=>{this.logger.debug("onCancel"),this.handleUploadIcon(-1)},this.onChunkingStart=e=>{this.logger.debug("onChunkingStart",e)},this.onChunkingProgress=(e,t)=>{this.logger.debug("onChunkingProgressd",e,t)},this.onChunkingComplete=e=>{this.logger.debug("onChunkingComplete",e)},this.logger=e.scopeTo("File")}appendParametersUrl(e){let t=new(mt())(e);return this.imageWidth&&t.addSearch({width:this.imageWidth}),this.imageHeight&&t.addSearch({height:this.imageHeight}),t.toString()}generatePreviewUrl(e){let t=this.previewUrl.replace("__name__",e);return this.appendParametersUrl(t)}generateDeleteUrl(e){return this.deleteUrl.replace("__name__",e)}setFiles(e){let t=e.split(/\s*,\s*/);this.handledFiles=t.filter(((e,t)=>""!==e.trim())).map(((e,t)=>({name:e,shortname:e.split(/.*[\/|\\]/).pop(),previewUrl:this.generatePreviewUrl(e),deleteUrl:this.generateDeleteUrl(e)}))),this.hiddenField.value=this.getFilesValue()}setFile(e,t=null){this.handledFiles.forEach(((e,t)=>{e.file&&null!==e.file&&this.resumable.removeFile(e.file),this.httpService.deleteRequest(e.deleteUrl,this.csfr.value)})),this.handledFiles=[{name:e,shortname:e.split(/.*[\/|\\]/).pop(),previewUrl:this.generatePreviewUrl(e),deleteUrl:this.generateDeleteUrl(e),file:t}],this.hiddenField.value=this.getFilesValue()}appendFile(e,t=null){this.handledFiles.push({name:e,shortname:e.split(/.*[\/|\\]/).pop(),previewUrl:this.generatePreviewUrl(e),deleteUrl:this.generateDeleteUrl(e),file:t}),this.hiddenField.value=this.getFilesValue()}getFilesValue(){let e=this.handledFiles.map(((e,t)=>e.name)).join(", ");return"string"==typeof e?e:""}onRemove(e,t){t.stopPropagation(),t.preventDefault(),this.logger.debug("Should remove file",e);let n=null;this.handledFiles.forEach(((t,i)=>{e.name===t.name&&(n=i)})),null!==n&&n>=0&&(e.file&&null!==e.file&&this.resumable.removeFile(e.file),this.handledFiles.splice(n,1),this.httpService.deleteRequest(e.deleteUrl,this.csfr.value));let i=this.getFilesValue();this.hiddenField.value=i}attached(){this.setUp()}setUp(){this.parentForm=this.element.closest("form"),this.logger.debug("Multiple",this.multiple);let e={target:this.uploadUrl,chunkSize:524288},t=this.fileType.split(/\s*,\s*/).filter(((e,t)=>""!==e.trim()));if(this.fileInfo=t.map((e=>e.toLocaleUpperCase())).join(", "),e.fileType=t,this.parentForm){let t=this.parentForm.querySelector("input[name=_csrf]");this.csfr={name:t.name,value:t.value},e.query={},e.query[this.csfr.name]=this.csfr.value,this.logger.debug("CSRF : ",t.value)}this.hiddenField=document.createElement("input"),this.hiddenField.type="hidden",this.hiddenField.name=this.name,this.element.appendChild(this.hiddenField),this.setFiles(this.value),this.resumable=new(ut())(e),this.resumable.support&&(this.resumable.assignBrowse(this.browse,!1),this.resumable.assignDrop(this.drop),this.drop.addEventListener("dragover",this.onDragEnter),this.drop.addEventListener("dragenter",this.onDragEnter),this.drop.addEventListener("dragleave",this.onDragLeave),this.drop.addEventListener("drop",this.onDragLeave),this.resumable.on("fileAdded",this.onFileAdded),this.resumable.on("fileSuccess",this.onFileSuccess),this.resumable.on("fileProgress",this.onFileProgress),this.resumable.on("filesAdded",this.onFilesAdded),this.resumable.on("fileRetry",this.onFileRetry),this.resumable.on("fileError",this.onFileError),this.resumable.on("uploadStart",this.onUploadStart),this.resumable.on("complete",this.onComplete),this.resumable.on("progress",this.onProgress),this.resumable.on("error",this.onError),this.resumable.on("pause",this.onPause),this.resumable.on("beforeCancel",this.onBeforeCancel),this.resumable.on("cancel",this.onCancel),this.resumable.on("chunkingStart",this.onChunkingStart),this.resumable.on("chunkingProgress",this.onChunkingProgress),this.resumable.on("chunkingComplete",this.onChunkingComplete)),this.logger.debug("Attached")}handleUploadIcon(e){this.uploadCount=this.uploadCount+e,this.uploadCount>0?this.icon.classList.add("animate-ping"):this.icon.classList.remove("animate-ping")}get getFiles(){return this.resumable.support?this.resumable.files.map(((e,t)=>e.fileName)):[]}detaching(){this.resumable.support&&(this.drop.removeEventListener("dragover",this.onDragEnter),this.drop.removeEventListener("dragenter",this.onDragEnter),this.drop.removeEventListener("dragleave",this.onDragLeave),this.drop.removeEventListener("drop",this.onDragLeave))}};vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"uploadUrl",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"previewUrl",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"deleteUrl",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"fileType",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"name",void 0),vt([(0,O.ExJ)(),bt("design:type",Object)],Et.prototype,"multiple",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"value",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"imageWidth",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"imageHeight",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"title",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"uploadFileText",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"uploadFileDnd",void 0),vt([(0,O.ExJ)(),bt("design:type",String)],Et.prototype,"uploadFileDescription",void 0),vt([(0,O.ExJ)(),bt("design:type",Boolean)],Et.prototype,"error",void 0),Et=vt([(0,O.MoW)(Object.assign(Object.assign({},h),{name:"blackcube-file-upload"})),yt(0,E.Xo),yt(2,O.TIm),yt(3,O.ND1),bt("design:paramtypes",[Object,R,Object,Element])],Et);const Ot="blocs",Tt='<template>\n    <div>\n        <au-compose view.bind="view"></au-compose>\n    </div>\n</template>\n',Ct=Tt,wt=[];let xt;function jt(e){xt||(xt=O.b_N.define({name:Ot,template:Tt,dependencies:wt})),e.register(xt)}var Lt=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},kt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},St=function(e,t){return function(n,i){t(n,i,e)}};let Rt=class{constructor(e,t,n,i){this.logger=e,this.platform=t,this.httpService=n,this.element=i,this.view="",this.onDelegateClick=e=>{if(e.target){e.stopPropagation();let t=e.target.closest("button[type=button]");if(t&&this.element.contains(t)&&(e.preventDefault(),this.logger.debug("delegateClick"),t.name)){const e=new FormData(this.form),n="post";e.append(t.name,t.value),this.httpService.fetch(this.url,{body:e,method:n}).then((e=>e.text())).then((e=>{this.view=e}))}}},this.logger=e.scopeTo("Blocs")}attached(){this.logger.debug("Attached"),this.logger.debug(this.url),this.form=this.element.closest("form"),this.element.addEventListener("click",this.onDelegateClick)}loadBlocs(){this.httpService.getHtmlContent(this.url).then((e=>{this.view=e}))}detaching(){this.logger.debug("Detached"),this.element.removeEventListener("click",this.onDelegateClick)}};Lt([(0,O.ExJ)(),kt("design:type",String)],Rt.prototype,"url",void 0),Lt([(0,O.ExJ)(),kt("design:type",String)],Rt.prototype,"view",void 0),Rt=Lt([(0,O.MoW)(Object.assign(Object.assign({},d),{name:"blackcube-blocs"})),St(0,E.Xo),St(1,O.TIm),St(3,O.ND1),kt("design:paramtypes",[Object,Object,R,HTMLElement])],Rt);const Dt="composites",Nt='<template>\n    <div>\n        <au-compose view.bind="view"></au-compose>\n    </div>\n</template>\n',Pt=Nt,Mt=[];let At;function Ft(e){At||(At=O.b_N.define({name:Dt,template:Nt,dependencies:Mt})),e.register(At)}var It=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Jt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ht=function(e,t){return function(n,i){t(n,i,e)}};let Ut=class{constructor(e,t,n,i){this.logger=e,this.platform=t,this.httpService=n,this.element=i,this.view="",this.onDelegateClick=e=>{if(e.target){e.stopPropagation();let t=e.target.closest("button[type=button]");if(t&&this.element.contains(t)&&(e.preventDefault(),this.logger.debug("delegateClick"),t.name)){const e=new FormData(this.form),n="post";e.append(t.name,t.value),this.httpService.fetch(this.url,{body:e,method:n}).then((e=>e.text())).then((e=>{this.view=e}))}}},this.logger=e.scopeTo("Composites")}attached(){this.logger.debug("Attached"),this.logger.debug(this.url),this.form=this.element.closest("form"),this.element.addEventListener("click",this.onDelegateClick)}loadBlocs(){this.httpService.getHtmlContent(this.url).then((e=>{this.view=e}))}detaching(){this.logger.debug("Detached"),this.element.removeEventListener("click",this.onDelegateClick)}};It([(0,O.ExJ)(),Jt("design:type",String)],Ut.prototype,"url",void 0),It([(0,O.ExJ)(),Jt("design:type",String)],Ut.prototype,"view",void 0),Ut=It([(0,O.MoW)(Object.assign(Object.assign({},p),{name:"blackcube-composites"})),Ht(0,E.Xo),Ht(1,O.TIm),Ht(3,O.ND1),Jt("design:paramtypes",[Object,Object,R,HTMLElement])],Ut);const Bt="element-toolbar",Wt='<template>\n    <div class="page-header-buttons">\n        <button type="button" class="page-header-buttons-button" class.bind="slugActive ? \'active\':\'inactive\'" click.delegate="onClickSlug($event)">\n            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>\n            <span class="ml-2">${slugTitle}</span>\n        </button>\n        <button if.bind="slugExists" type="button" class="page-header-buttons-button" class.bind="sitemapActive ? \'active\':\'inactive\'" click.delegate="onClickSitemap($event)">\n            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg>\n            <span class="ml-2">${sitemapTitle}</span>\n        </button>\n        <span else type="button" class="page-header-buttons-button disabled">\n            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path></svg>\n            <span class="ml-2">${sitemapTitle}</span>\n        </span>\n        <button if.bind="slugExists" type="button" class="page-header-buttons-button" class.bind="seoActive ? \'active\':\'inactive\'" click.delegate="onClickSeo($event)">\n            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>\n            <span class="ml-2">${seoTitle}</span>\n        </button>\n        <span else type="button" class="page-header-buttons-button disabled">\n            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>\n            <span class="ml-2">${seoTitle}</span>\n        </span>\n        <button if.bind="showTags" type="button" class="page-header-buttons-button" click.delegate="onClickTags($event)">\n            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg>\n            <span class="ml-2">${tagsTitle}</span>\n        </button>\n    </div>\n</template>\n',Vt=Wt,qt=[];let Xt;function $t(e){Xt||(Xt=O.b_N.define({name:Bt,template:Wt,dependencies:qt})),e.register(Xt)}var _t;!function(e){e.CREATE="create",e.UPDATE="update",e.DELETE="delete",e.ACTIVATE="activate",e.DEACTIVATE="deactivate"}(_t||(_t={}));class Gt{}Gt.channel="general";var zt=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Qt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kt=function(e,t){return function(n,i){t(n,i,e)}};let Yt=class{constructor(e,t,n,i,s){this.logger=e,this.ea=t,this.platform=n,this.httpService=i,this.element=s,this.slugTitle="Slug",this.slugActive=!1,this.slugExists=!1,this.sitemapTitle="Sitemap",this.sitemapActive=!1,this.seoTitle="SEO",this.seoActive=!1,this.showTags=!0,this.tagsTitle="Tags",this.onEvent=e=>{var t,n,i;"slug"===(null===(t=e.data)||void 0===t?void 0:t.type)&&(e.type===_t.CREATE||e.type===_t.UPDATE?this.slugExists=!0:e.type===_t.DELETE&&(this.slugExists=!1,this.slugActive=!1,this.seoActive=!1,this.sitemapActive=!1),e.type===_t.ACTIVATE?this.slugActive=!0:e.type===_t.DEACTIVATE&&(this.slugActive=!1)),"seo"===(null===(n=e.data)||void 0===n?void 0:n.type)&&(e.type===_t.ACTIVATE?this.seoActive=!0:e.type===_t.DEACTIVATE&&(this.seoActive=!1)),"sitemap"===(null===(i=e.data)||void 0===i?void 0:i.type)&&(e.type===_t.ACTIVATE?this.sitemapActive=!0:e.type===_t.DEACTIVATE&&(this.sitemapActive=!1))},this.logger=e.scopeTo("ElementToolbar")}attaching(){this.eventListener=this.ea.subscribe(Gt.channel,this.onEvent)}attached(){this.logger.debug("Attached")}detaching(){this.logger.debug("Detached")}dispose(){this.eventListener.dispose()}onClickSlug(e){e.preventDefault(),this.ea.publish(qe.channel,{type:He.OPEN,overlay:{url:this.slugUrl}})}onClickSitemap(e){e.preventDefault(),this.slugExists&&this.ea.publish(qe.channel,{type:He.OPEN,overlay:{url:this.sitemapUrl}})}onClickSeo(e){e.preventDefault(),this.slugExists&&this.ea.publish(qe.channel,{type:He.OPEN,overlay:{url:this.seoUrl}})}onClickTags(e){e.preventDefault(),this.ea.publish(qe.channel,{type:He.OPEN,overlay:{url:this.tagsUrl}})}};zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"slugTitle",void 0),zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"slugUrl",void 0),zt([(0,O.ExJ)(),Qt("design:type",Boolean)],Yt.prototype,"slugActive",void 0),zt([(0,O.ExJ)(),Qt("design:type",Boolean)],Yt.prototype,"slugExists",void 0),zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"sitemapTitle",void 0),zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"sitemapUrl",void 0),zt([(0,O.ExJ)(),Qt("design:type",Boolean)],Yt.prototype,"sitemapActive",void 0),zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"seoTitle",void 0),zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"seoUrl",void 0),zt([(0,O.ExJ)(),Qt("design:type",Boolean)],Yt.prototype,"seoActive",void 0),zt([(0,O.ExJ)(),Qt("design:type",Boolean)],Yt.prototype,"showTags",void 0),zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"tagsTitle",void 0),zt([(0,O.ExJ)(),Qt("design:type",String)],Yt.prototype,"tagsUrl",void 0),Yt=zt([(0,O.MoW)(Object.assign(Object.assign({},g),{name:"blackcube-element-toolbar"})),Kt(0,E.Xo),Kt(1,E.Rp),Kt(2,O.TIm),Kt(4,O.ND1),Qt("design:paramtypes",[Object,Object,Object,R,HTMLElement])],Yt);const Zt="permissions",en='<template>\n    <div>\n        <au-compose view.bind="view"></au-compose>\n    </div>\n</template>\n',tn=en,nn=[];let sn;function on(e){sn||(sn=O.b_N.define({name:Zt,template:en,dependencies:nn})),e.register(sn)}var an=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ln=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rn=function(e,t){return function(n,i){t(n,i,e)}};let cn=class{constructor(e,t,n,i){this.logger=e,this.platform=t,this.httpService=n,this.element=i,this.view="",this.onDelegateChange=e=>{if(e.target){let t=e.target.closest("input[type=checkbox]");if(t&&this.element.contains(t)){e.stopPropagation(),e.preventDefault(),this.logger.debug("delegateClick");const n=new FormData;n.append(this.csrf.name,this.csrf.value),t.dataset.rbacType&&n.append("type",t.dataset.rbacType),t.dataset.rbacName&&n.append("name",t.dataset.rbacName),n.append("mode",t.checked?"add":"remove");const i="post";this.httpService.fetch(this.url,{body:n,method:i}).then((e=>e.text())).then((e=>{this.view=e}))}}},this.logger=e.scopeTo("Permissions")}attached(){this.logger.debug("Attached"),this.logger.debug(this.url),this.form=this.element.closest("form");let e=this.form.querySelector("input[name=_csrf]");this.csrf={name:e.name,value:e.value},this.logger.debug(this.form),this.element.addEventListener("change",this.onDelegateChange);const t=new FormData;t.append(this.csrf.name,this.csrf.value),this.httpService.fetch(this.url,{body:t,method:"post"}).then((e=>e.text())).then((e=>{this.view=e}))}detaching(){this.logger.debug("Detached"),this.element.removeEventListener("change",this.onDelegateChange)}};an([(0,O.ExJ)(),ln("design:type",String)],cn.prototype,"url",void 0),an([(0,O.ExJ)(),ln("design:type",String)],cn.prototype,"view",void 0),cn=an([(0,O.MoW)(Object.assign(Object.assign({},u),{name:"blackcube-permissions"})),rn(0,E.Xo),rn(1,O.TIm),rn(3,O.ND1),ln("design:paramtypes",[Object,Object,R,HTMLElement])],cn);const hn="schema-editor",dn='<template>\n    <input type="hidden" ref="hiddenField"/>\n    <div ref="jsonEditorElement"></div>\n</template>\n',pn=dn,gn=[];let un;function fn(e){un||(un=O.b_N.define({name:hn,template:dn,dependencies:gn})),e.register(un)}var mn=n(83),vn=n.n(mn),bn=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},yn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},En=function(e,t){return function(n,i){t(n,i,e)}};let On=class{constructor(e,t,n){this.logger=e,this.platform=t,this.element=n,this.logger=e.scopeTo("SchemaEditor")}attached(){this.logger.debug("Attached"),this.fieldId&&(this.hiddenField.id=this.fieldId),this.fieldName&&(this.hiddenField.name=this.fieldName),this.schema&&(this.hiddenField.value=this.schema),this.buildEditor()}buildEditor(){let e={mode:"tree",modes:["tree","text"],search:!1,navigationBar:!1,statusBar:!0,mainMenuBar:!0,enableSort:!1,enableTransform:!1,language:"en",templates:[{text:"text",title:"Insert Text property",className:"jsoneditor-type-object",field:"text",value:{type:"string",title:"Text",minLength:6,description:"Field description"}},{text:"Textarea",title:"Insert Textarea property",className:"jsoneditor-type-object",field:"textarea",value:{type:"string",format:"textarea",description:"Field description"}},{text:"Wysiwyg",title:"Insert Wysiwyg property",className:"jsoneditor-type-object",field:"wysiwyg",value:{type:"string",format:"wysiwyg",description:"Wysiwyg Editor"}},{text:"Email",title:"Insert Email property",className:"jsoneditor-type-object",field:"email",value:{type:"string",title:"E-mail",format:"email",minLength:6,description:"Field description"}},{text:"Regexp",title:"Insert Regexp property",className:"jsoneditor-type-object",field:"regexp",value:{type:"string",pattern:"^[a-z0-9]+$",minLength:6,title:"Regep",description:"Field description"}},{text:"Images",title:"Insert Image property",className:"jsoneditor-type-object",field:"image",value:{type:"string",format:"files",fileType:"png,jpg",imageWidth:600,imageHeight:200,title:"images",description:"Images size should be 600x200"}},{text:"File",title:"Insert Image property",className:"jsoneditor-type-object",field:"file",value:{type:"string",format:"file",fileType:"pdf",title:"file",description:"Field description"}},{text:"Files",title:"Insert Image property",className:"jsoneditor-type-object",field:"files",value:{type:"string",format:"files",fileType:"pdf",title:"files",description:"Field description"}}]};this.language&&(e.language=this.language),e.onChangeJSON=e=>{this.hiddenField.value=JSON.stringify(e,null,4)},e.onChangeText=e=>{this.hiddenField.value=e},this.jsonSchema=new(vn())(this.jsonEditorElement,e),this.jsonSchema.setText(this.schema),this.jsonSchema.expandAll()}};bn([(0,O.ExJ)(),yn("design:type",String)],On.prototype,"fieldId",void 0),bn([(0,O.ExJ)(),yn("design:type",String)],On.prototype,"fieldName",void 0),bn([(0,O.ExJ)(),yn("design:type",String)],On.prototype,"schema",void 0),bn([(0,O.ExJ)(),yn("design:type",String)],On.prototype,"language",void 0),On=bn([(0,O.MoW)(Object.assign(Object.assign({},f),{name:"blackcube-schema-editor"})),En(0,E.Xo),En(1,O.TIm),En(2,O.ND1),yn("design:paramtypes",[Object,Object,HTMLElement])],On);const Tn="quill-editor",Cn='<template>\n    <input type="hidden" ref="hiddenField">\n    <div ref="editor"></div>\n\n</template>\n',wn=Cn,xn=[];let jn;function Ln(e){jn||(jn=O.b_N.define({name:Tn,template:Cn,dependencies:xn})),e.register(jn)}var kn=n(831),Sn=n.n(kn),Rn=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Dn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nn=function(e,t){return function(n,i){t(n,i,e)}};const Pn=Sn().import("formats/link");Sn().register(class extends Pn{static create(e){let t=super.create(e);return e=this.sanitize(e),t.setAttribute("href",e),e.startsWith("https://")||e.startsWith("http://")||e.startsWith("://")||t.removeAttribute("target"),t}});let Mn=class{constructor(e,t,n,i){this.logger=e,this.ea=t,this.httpService=n,this.element=i,this.options={theme:"snow",modules:{toolbar:[["bold","italic","underline"],[{list:"bullet"}],["link"]]},formats:["bold","italic","link","underline","list"]},this.onTextChange=()=>{var e,t;this.hiddenField.value=null===(e=this.editor.querySelector(".ql-editor"))||void 0===e?void 0:e.innerHTML,this.logger.trace(null===(t=this.editor.querySelector(".ql-editor"))||void 0===t?void 0:t.innerHTML)},this.logger=e.scopeTo("QuillEditor")}attaching(){this.logger.trace("Attaching")}attached(){this.fieldId&&(this.hiddenField.id=this.fieldId),this.fieldName&&(this.hiddenField.name=this.fieldName),this.options.theme="snow",this.quill=new(Sn())(this.editor,this.options),this.quill.on("text-change",this.onTextChange),this.logger.trace("Attached")}detaching(){this.quill.off("text-change",this.onTextChange),this.logger.trace("Detaching")}};Rn([(0,O.ExJ)(),Dn("design:type",String)],Mn.prototype,"fieldId",void 0),Rn([(0,O.ExJ)(),Dn("design:type",String)],Mn.prototype,"fieldName",void 0),Rn([(0,O.ExJ)(),Dn("design:type",Object)],Mn.prototype,"options",void 0),Mn=Rn([(0,O.MoW)(Object.assign(Object.assign({},m),{name:"blackcube-quill-editor"})),Nn(0,E.Xo),Nn(1,E.Rp),Nn(3,O.ND1),Dn("design:paramtypes",[Object,Object,R,HTMLElement])],Mn);var An=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Fn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},In=function(e,t){return function(n,i){t(n,i,e)}};let Jn=class{constructor(e,t,n,i){this.logger=e,this.ea=t,this.httpService=n,this.element=i,this.action="Delete",this.cancel="Cancel",this.onDelegateEvent=e=>{if(e.target){const t=e.target.closest("[data-alert-delete]");if(t instanceof HTMLAnchorElement){const n=t.dataset.alertDelete,i=t.dataset.alertDeleteMethod||"post",s=t.href;n&&n.length>1&&(e.preventDefault(),this.ea.publish(De.channel,{type:je.OPEN,alert:{type:xe.EXCLAMATION,contentUrl:n,actionTitle:this.action,cancelTitle:this.cancel,cancel:()=>{this.logger.trace("Should Close")},action:()=>{var e;const n=null===(e=t.closest("form"))||void 0===e?void 0:e.querySelector("input[name=_csrf]"),o=new FormData;n&&o.append(n.name,n.value),this.httpService.fetch(s,{method:i,body:o}).then((e=>{const t=e.headers.get("X-Redirect");t&&(window.location.href=t),this.logger.trace("daya",e.headers)}))}}}))}}},this.logger=e.scopeTo("ModalAlert")}attaching(){this.logger.trace("Attaching")}attached(){this.logger.trace("Attached"),this.element.addEventListener("click",this.onDelegateEvent)}detaching(){this.logger.trace("Detaching"),this.element.removeEventListener("click",this.onDelegateEvent)}};An([(0,O.ExJ)(),Fn("design:type",String)],Jn.prototype,"action",void 0),An([(0,O.ExJ)(),Fn("design:type",String)],Jn.prototype,"cancel",void 0),Jn=An([(0,O.OVJ)("blackcube-alert-delete"),In(0,E.Xo),In(1,E.Rp),In(3,O.ND1),Fn("design:paramtypes",[Object,Object,R,HTMLElement])],Jn);var Hn=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Un=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bn=function(e,t){return function(n,i){t(n,i,e)}};let Wn=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.onClick=e=>{this.logger.debug("onClickOverlay"),e.preventDefault(),this.ea.publish(qe.channel,{type:He.OPEN,overlay:{title:this.title,abstract:this.abstract,url:this.url,cancelTitle:this.cancelTitle,actionTitle:this.actionTitle}})},this.logger=e.scopeTo("OverlayTrigger")}attaching(){this.logger.trace("Attaching")}attached(){this.logger.trace("Attached"),this.element.addEventListener("click",this.onClick)}detaching(){this.logger.trace("Detaching"),this.element.removeEventListener("click",this.onClick)}};Hn([(0,O.ExJ)(),Un("design:type",String)],Wn.prototype,"title",void 0),Hn([(0,O.ExJ)(),Un("design:type",String)],Wn.prototype,"abstract",void 0),Hn([(0,O.ExJ)(),Un("design:type",String)],Wn.prototype,"url",void 0),Hn([(0,O.ExJ)(),Un("design:type",String)],Wn.prototype,"actionTitle",void 0),Hn([(0,O.ExJ)(),Un("design:type",String)],Wn.prototype,"cancelTitle",void 0),Wn=Hn([(0,O.OVJ)("blackcube-overlay-trigger"),Bn(0,E.Xo),Bn(1,E.Rp),Bn(2,O.ND1),Un("design:paramtypes",[Object,Object,HTMLElement])],Wn);var Vn=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},qn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xn=function(e,t){return function(n,i){t(n,i,e)}};let $n=class{constructor(e,t,n,i){this.logger=e,this.ea=t,this.platform=n,this.element=i,this.title="",this.type=le.CHECK,this.content="",this.duration=5e3,this.closeOverlay=!1,this.logger=e.scopeTo("NotificationTrigger"),this.logger.trace("constructor")}attaching(){this.logger.trace("Attaching")}attached(){this.logger.trace("Send Notification"),this.platform.taskQueue.queueTask((()=>{this.ea.publish(ve.channel,{type:re.CREATE,notification:{title:this.title,type:this.type,content:this.content,duration:this.duration}}),this.closeOverlay&&this.ea.publish(qe.channel,{type:He.CLOSE})}))}};Vn([(0,O.ExJ)(),qn("design:type",String)],$n.prototype,"title",void 0),Vn([(0,O.ExJ)(),qn("design:type",String)],$n.prototype,"type",void 0),Vn([(0,O.ExJ)(),qn("design:type",String)],$n.prototype,"content",void 0),Vn([(0,O.ExJ)(),qn("design:type",Number)],$n.prototype,"duration",void 0),Vn([(0,O.ExJ)(),qn("design:type",Boolean)],$n.prototype,"closeOverlay",void 0),$n=Vn([(0,O.OVJ)("blackcube-notification-trigger"),Xn(0,E.Xo),Xn(1,E.Rp),Xn(2,O.TIm),Xn(3,O.ND1),qn("design:paramtypes",[Object,Object,Object,HTMLElement])],$n);var _n=function(e,t){return function(n,i){t(n,i,e)}};let Gn=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.logger=e.scopeTo("OverlayClose")}attached(){this.logger.trace("Attaching"),this.ea.publish(qe.channel,{type:He.CLOSE})}};Gn=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.OVJ)("blackcube-overlay-close"),_n(0,E.Xo),_n(1,E.Rp),_n(2,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,HTMLElement])],Gn);var zn=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Qn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kn=function(e,t){return function(n,i){t(n,i,e)}};let Yn=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.logger=e.scopeTo("BroadcastElement")}attached(){this.logger.trace("Attaching"),this.event?this.ea.publish(Gt.channel,{type:this.event,data:{type:this.type,id:this.id}}):this.events&&this.events.forEach((e=>{this.ea.publish(Gt.channel,{type:e,data:{type:this.type,id:this.id}})}))}};zn([(0,O.ExJ)(),Qn("design:type",String)],Yn.prototype,"event",void 0),zn([(0,O.ExJ)(),Qn("design:type",Array)],Yn.prototype,"events",void 0),zn([(0,O.ExJ)(),Qn("design:type",String)],Yn.prototype,"type",void 0),zn([(0,O.ExJ)(),Qn("design:type",Object)],Yn.prototype,"id",void 0),Yn=zn([(0,O.OVJ)("blackcube-broadcast-element"),Kn(0,E.Xo),Kn(1,E.Rp),Kn(2,O.ND1),Qn("design:paramtypes",[Object,Object,HTMLElement])],Yn);var Zn=function(e,t){return function(n,i){t(n,i,e)}};let ei=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.target="data-dependency",this.source="data-dependency-source",this.onChange=e=>{e.currentTarget.checked?this.activateFields():this.deactivateFields()},this.logger=e.scopeTo("ToggleDependencies")}attached(){this.toggleElement=this.element.querySelector("["+this.source+"]"),this.toggleElement&&(this.toggleTargets=this.element.querySelectorAll("["+this.target+"]"),this.toggleElement.checked?this.activateFields():this.deactivateFields(),this.toggleElement.addEventListener("change",this.onChange))}detaching(){this.toggleElement&&this.toggleElement.removeEventListener("change",this.onChange)}activateFields(){this.toggleTargets.forEach((e=>{e.classList.remove("opacity-50"),e.querySelectorAll("input, select").forEach((e=>{e.disabled=!1}))}))}deactivateFields(){this.toggleTargets.forEach((e=>{e.classList.add("opacity-50"),e.querySelectorAll("input, select").forEach((e=>{e.disabled=!0}))}))}};ei=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,O.OVJ)("blackcube-toggle-dependencies"),Zn(0,E.Xo),Zn(1,E.Rp),Zn(2,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,HTMLElement])],ei);var ti=function(e,t){return function(n,i){t(n,i,e)}};let ni=class{constructor(e,t,n){this.logger=e,this.ea=t,this.element=n,this.logger=e.scopeTo("Enhance")}attaching(){this.logger.trace("Attaching")}};ni=function(e,t,n,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,n,a):s(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([ti(0,E.Xo),ti(1,E.Rp),ti(2,O.ND1),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,HTMLElement])],ni),window.webpackBaseUrl&&(n.p=webpackBaseUrl);const ii=document.querySelector("body");console.log("before startup",ii),y.ZP.register(b).register(v).register(E.H$.create({level:0,colorOptions:1,sinks:[E.v3]})).enhance({host:ii,component:ni})}},e=>{e.O(0,[216],(()=>(513,e(e.s=513)))),e.O()}]);