{"version":3,"sources":["webpack:///./app.ts","webpack:///./app/services/AjaxService.ts","webpack:///./app/services/StorageService.ts","webpack:///./boot.ts","webpack:///vertx (ignored)","webpack:///./app/components/AjaxLinkManagerCustomAttribute.ts","webpack:///./app/components/AttachModalCustomAttribute.ts","webpack:///./app/components/HtmlLoaderCustomAttribute.ts","webpack:///./app/components/LoaderDoneCustomAttribute.ts","webpack:///./app/components/ManageBlocsCustomAttribute.ts","webpack:///./app/components/ResumableFileCustomElement.ts","webpack:///./app/components/ResumableFileCustomElement.html","webpack:///./app/components/SchemaEditorCustomElement.ts","webpack:///./app/components/SchemaEditorCustomElement.html","webpack:///./app/components/ToggleSlugCustomAttribute.ts","webpack:///./app/components/index.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,iBAyCA;;AAzCA,0KAA+C;AAC/C,4FAAoD;AAIpD,gCAAS,CAAC,UAAC,OAAgB;IACvB,OAAO,CAAC,GAAG;SACN,qBAAqB,EAAE;SACvB,MAAM,CAAC,oBAAyC,CAAC;SACjD,MAAM,CAAC,kBAAuC,CAAC,CACnD;IACD,IAAI,IAAmB,EAAE;QACrB,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC;KACpC;IACD;;;;0BAIsB;IACtB,yBAAyB;IACzB,OAAO,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;QACjB,cAAO,CAAC,OAAO,CAAC,QAAQ,CAAC;IAAzB,CAAyB,CAC5B,CAAC;IACF,yBAAyB;IACzB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE;QAC5B,aAAa;QACb,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,iBAAiB,IAAI,OAAO,CAAC,SAAS,CAAC,qBAAqB,CAAC;KAC9G;IACD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE;QAC5B,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,UAAC,CAAK;YAC9B,IAAI,EAAE,GAAG,KAAI,CAAC;YACd,aAAa;YACb,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC;gBAAE,OAAO,IAAI,CAAC;YACxD,GAAG;gBACC,IAAI,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;oBAAE,OAAO,EAAE,CAAC;gBAC7B,EAAE,GAAG,EAAE,CAAC,aAAa,IAAI,EAAE,CAAC,UAAU,CAAC;aAC1C,QAAQ,EAAE,KAAK,IAAI,IAAI,EAAE,CAAC,QAAQ,IAAI,CAAC,EAAE;YAC1C,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC;KACL;AACL,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;ACxCH,4FAAqD;AACrD,0KAAyE;AAIzE;IAII,qBAAY,UAAqB;QAFzB,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;QAyB7D,UAAK,GAAO,IAAI,CAAC;QAtBrB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,gBAAM;YAC5B,MAAM;iBACD,YAAY,CAAC;gBACV,OAAO,EAAE;oBACL,kBAAkB,EAAE,gBAAgB;iBACvC;gBACD,WAAW,EAAC,SAAS;aACxB,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,8BAAQ,GAAf,UAAgB,KAAY,EAAE,QAAiB;QAE3C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,EAAE;YAChC,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,QAAQ;SACjB,CAAC,CAAC;IACP,CAAC;IAGM,8BAAQ,GAAf;QAEI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;YACrB,IAAI,CAAC,KAAK,GAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,mBAAmB,EAAE;gBACrD,MAAM,EAAE,KAAK;aAChB,CAAC,CAAC,IAAI,CAAC,UAAC,QAAiB;gBACtB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC;SACN;QACD,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IACM,oCAAc,GAArB,UAAsB,IAAW,EAAE,EAAS;QAExC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,GAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,uBAAuB,GAAC,EAAE,GAAC,QAAQ,GAAC,IAAI,EAAE;YAC1E,MAAM,EAAE,KAAK;SAChB,CAAC,CAAC,IAAI,CAAC,UAAC,QAAiB;YACtB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,KAAK,CAAC;IAEtB,CAAC;IACM,gCAAU,GAAjB,UAAkB,GAAU;QAExB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAChC,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC;aAC9C,IAAI,CAAC,UAAC,QAAiB;YACpB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;IACX,CAAC;IACM,mCAAa,GAApB,UAAqB,GAAU,EAAE,IAAgB;QAAhB,gCAAgB;QAE7C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QACnC,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAC,cAAc,EAAE,IAAI,EAAC,EAAC,CAAC,CAAC;IAC5F,CAAC;IA/DC,WAAW;QADhB,0BAAM,CAAC,iCAAU,CAAC;OACb,WAAW,CAgEhB;IAAD,kBAAC;CAAA;AAEO,kCAAW;;;;;;;;;;;;;;;ACvEnB;IAAA;IAwBA,CAAC;IAtBU,6CAAoB,GAA3B,UAA4B,SAAgB;QAExC,IAAI,SAAS,KAAK,EAAE,EAAE;YAClB,IAAM,aAAa,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,GAAC,SAAS,GAAC,cAAc,CAAC,CAAC;YACtF,OAAO,aAAa,KAAK,GAAG,CAAC;SAChC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAEM,6CAAoB,GAA3B,UAA4B,SAAgB;QAExC,IAAI,SAAS,KAAK,EAAE,EAAE;YAClB,YAAY,CAAC,OAAO,CAAC,gBAAgB,GAAC,SAAS,GAAC,cAAc,EAAE,GAAG,CAAC,CAAC;SACxE;IACL,CAAC;IAEM,6CAAoB,GAA3B,UAA4B,SAAgB;QAExC,IAAI,SAAS,KAAK,EAAE,EAAE;YAClB,YAAY,CAAC,UAAU,CAAC,gBAAgB,GAAC,SAAS,GAAC,cAAc,CAAC,CAAC;SACtE;IACL,CAAC;IACL,qBAAC;AAAD,CAAC;AAEO,wCAAc;;;;;;;;;;;;ACxBtB,IAAI,cAAc,KAAK,SAAS,EAAE;IAC9B,qBAAuB,GAAG,cAAc,CAAC;CAC5C;;;;;;;;;;;;;;;;;;;;;;;;;;ACJD,e;;;;;;;;;;;;;;;;;;;;ACCA,4FAAyM;AAEzM,wGAAoD;AAGpD;IAOI,wCAAmB,OAAmB,EAAE,gBAAiC,EAAE,WAAuB;QAAlG,iBAKC;QAVO,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,4BAA4B,CAAC,CAAC;QAyBjE,oBAAe,GAAG,UAAC,GAAS;YAClC,IAAI,GAAG,CAAC,MAAM,EAAE;gBACZ,YAAY;gBACZ,IAAI,WAAW,GAAoB,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;gBACtE,IAAI,WAAW,IAAI,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;oBACnD,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;oBACnC,IAAI,GAAG,GAAG,WAAW,CAAC,IAAI,CAAC;oBAC3B,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC;yBAC3B,IAAI,CAAC,UAAC,IAAW;wBACd,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;wBAC9B;;;;;2BAKG;oBACP,CAAC,CAAC,CAAC;iBACV;aACJ;QACL,CAAC,CAAC;QAvCE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,gDAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,6CAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEM,iDAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IACjE,CAAC;IAwBM,iDAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IACpE,CAAC;IAEM,+CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAxDC,8BAA8B;QADnC,0BAAM,CAAC,uBAAG,CAAC,OAAO,EAAE,oCAAgB,EAAE,yBAAW,CAAC;OAC7C,8BAA8B,CAyDnC;IAAD,qCAAC;CAAA;AAEO,wEAA8B;;;;;;;;;;;;;;;;;;;;;ACjEtC,4FAAuL;AAIvL,wGAAoD;AAGpD;IAcI,oCAAmB,OAAuB,EAAE,WAAuB;QAAnE,iBAIC;QAfO,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;QAE/D,UAAK,GAAW,KAAK,CAAC;QACtB,eAAU,GAAU,CAAC,CAAC;QA+BpB,qBAAgB,GAAG,UAAC,GAAS;YACnC,IAAI,GAAG,CAAC,MAAM,EAAE;gBACZ,YAAY;gBACZ,KAAI,CAAC,WAAW,GAAoB,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;gBAChF,IAAI,KAAI,CAAC,WAAW,IAAI,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAI,CAAC,WAAW,CAAC,EAAE;oBAC7D,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,IAAI,GAAG,GAAG,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC;oBAC7C,IAAI,GAAG,EAAE;wBACL,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,CAAC;6BAC3B,IAAI,CAAC,UAAC,KAAY;4BACf,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;4BACvB,KAAI,CAAC,WAAW,EAAE,CAAC;wBACvB,CAAC,CAAC,CAAC;qBACV;iBACJ;aACJ;QACL,CAAC,CAAC;QAiCQ,eAAU,GAAG,UAAC,GAAS;YAC7B,KAAI,CAAC,WAAW,EAAE,CAAC;YACnB,KAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAE9B,CAAC,CAAC;QACQ,YAAO,GAAG,UAAC,GAAS;YAC1B,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,CAAC;QA9EE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACnC,CAAC;IACM,4CAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,yCAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEM,6CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACnE,CAAC;IAEM,6CAAQ,GAAf;QACI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAClE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAoBS,gDAAW,GAArB;QACI,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC/D,IAAI,CAAC,KAAK,GAAmB,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QACrE,IAAI,CAAC,QAAQ,GAAmB,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;QACjF,IAAI,CAAC,UAAU,GAAsB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;QACrF,IAAI,CAAC,UAAU,GAAsB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;QACrF,IAAI,CAAC,OAAO,GAAsB,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;QAC/E,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC5D,CAAC;IAES,gDAAW,GAArB;QACI,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC9D;QACD,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC9D;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SAC9D;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACtD,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;SAC1B;IACL,CAAC;IASM,2CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IA9FoC;QAApC,4BAAQ,CAAC,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;2DAAa;IAF/C,0BAA0B;QAD/B,0BAAM,CAAC,uBAAG,CAAC,OAAO,EAAE,yBAAW,CAAC;OAC3B,0BAA0B,CAiG/B;IAAD,iCAAC;CAAA;AAEO,gEAA0B;;;;;;;;;;;;;;;;;;;;;ACzGlC,4FAAuL;AACvL,iHAAuE;AAIvE;IAOI,mCAAmB,OAAmB,EAAE,eAAe;QAAvD,iBAIC;QANO,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;QA8B5D,mBAAc,GAAG,UAAC,IAAQ;YAEhC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YACnC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACxC,CAAC;QA/BG,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,2CAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,wCAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC1F,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC9B,CAAC;IAEM,0CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAjCC,yBAAyB;QAD9B,0BAAM,CAAC,uBAAG,CAAC,OAAO,EAAE,0CAAe,CAAC;OAC/B,yBAAyB,CAwC9B;IAAD,gCAAC;CAAA;AAEO,8DAAyB;;;;;;;;;;;;;;;;;;;;;AC/CjC,4FAAuL;AACvL,iHAAuE;AAIvE;IAMI,mCAAmB,OAAmB,EAAE,eAAe;QAAvD,iBAIC;QANO,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;QA6B5D,mBAAc,GAAG,UAAC,IAAQ;YAEhC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YACnC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACxC,CAAC;QA9BG,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,2CAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,wCAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;IACrD,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAEM,0CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IA/BC,yBAAyB;QAD9B,0BAAM,CAAC,uBAAG,CAAC,OAAO,EAAE,0CAAe,CAAC;OAC/B,yBAAyB,CAsC9B;IAAD,gCAAC;CAAA;AAEO,8DAAyB;;;;;;;;;;;;;;;;;;;;;AC7CjC,4FAAyM;AAEzM,wGAAoD;AAGpD;IASI,oCAAmB,OAAmB,EAAE,gBAAiC,EAAE,WAAuB;QAAlG,iBAKC;QAXO,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC;QAgC7D,oBAAe,GAAG,UAAC,GAAS;YAClC,IAAI,GAAG,CAAC,MAAM,EAAE;gBACZ,YAAY;gBACZ,IAAI,aAAa,GAAsB,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;gBACjF,IAAI,aAAa,IAAI,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;oBACvD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;oBACnC,IAAI,aAAa,CAAC,IAAI,EAAE;wBACpB,IAAI,QAAQ,GAAG,IAAI,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;wBACvC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,KAAK,CAAC,CAAC;wBACzD,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAI,CAAC,GAAG,EAAE,QAAQ,CAAC;6BACxC,IAAI,CAAC,kBAAQ;4BACV,IAAI,QAAQ,CAAC,MAAM,IAAI,GAAG,EAAE;gCACxB,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAC,IAAW;oCAC7B,KAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC;oCACjC,KAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;wCAC1B,OAAO,EAAE,KAAI,CAAC,UAAU;wCACxB,cAAc,EAAE,KAAI;qCACvB,CAAC;gCACN,CAAC,CAAC;6BACL;wBACL,CAAC,CAAC,CAAC;qBACV;iBACJ;aACJ;QACL,CAAC,CAAC;QAjDE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,4CAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,yCAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEM,6CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,IAAI,GAAoB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC1D,IAAI,CAAC,UAAU,GAAgB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;QAChF,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI,EAAE;YAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC;SAClC;QACD,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IACjE,CAAC;IA4BM,6CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IACpE,CAAC;IAEM,2CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAlEoC;QAApC,4BAAQ,CAAC,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;2DAAa;IAF/C,0BAA0B;QAD/B,0BAAM,CAAC,uBAAG,CAAC,OAAO,EAAE,oCAAgB,EAAE,yBAAW,CAAC;OAC7C,0BAA0B,CAqE/B;IAAD,iCAAC;CAAA;AAEO,gEAA0B;;;;;;;;;;;;;;;;;;;;;;;;AC5ElC,4FAAuL;AAEvL,wGAAoD;AACpD,iIAAmC;AAcnC;IAoBI,oCAAmB,OAAmB,EAAE,WAAuB;QAA/D,iBAIC;QAtBO,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC;QAeX,aAAQ,GAAmB,KAAK,CAAC;QACjC,UAAK,GAAW,EAAE,CAAC;QAqF1E,aAAQ,GAAG,UAAC,WAAwB;YAEvC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oBAAoB,EAAE,WAAW,CAAC,CAAC;YACrD,IAAI,SAAS,GAAe,IAAI,CAAC;YACjC,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,IAAiB,EAAE,KAAY;gBACvD,IAAI,WAAW,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;oBAChC,SAAS,GAAG,KAAK,CAAC;iBACrB;YACJ,CAAC,CAAC,CAAC;YACH,IAAI,SAAS,KAAK,IAAI,IAAI,SAAS,IAAI,CAAC,EAAE;gBACtC,IAAI,WAAW,CAAC,IAAI,IAAI,WAAW,CAAC,IAAI,KAAK,IAAI,EAAE;oBAC/C,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;iBAC/C;gBACD,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBACvC,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACvE,wBAAwB;aAC3B;YACD,IAAI,UAAU,GAAG,KAAI,CAAC,aAAa,EAAE,CAAC;YACtC,KAAI,CAAC,WAAW,CAAC,KAAK,GAAG,UAAU,CAAC;QAExC,CAAC,CAAC;QAqDQ,gBAAW,GAAG,UAAC,GAAa;YAClC,GAAG,CAAC,cAAc,EAAE,CAAC;YACrB,IAAI,EAAE,GAAgB,GAAG,CAAC,aAAa,CAAC;YACxC,IAAI,EAAE,GAAG,GAAG,CAAC,YAAY,CAAC;YAC1B,IAAI,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACtC,GAAG,CAAC,eAAe,EAAE,CAAC;gBACtB,EAAE,CAAC,UAAU,GAAG,MAAM,CAAC;gBACvB,EAAE,CAAC,aAAa,GAAG,MAAM,CAAC;gBAC1B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;aAChC;iBAAM,IAAI,EAAE,EAAE;gBACX,EAAE,CAAC,UAAU,GAAG,MAAM,CAAC;gBACvB,EAAE,CAAC,aAAa,GAAG,MAAM,CAAC;aAC7B;QACL,CAAC,CAAC;QACQ,gBAAW,GAAG,UAAC,GAAS;YAC9B,IAAI,EAAE,GAAgB,GAAG,CAAC,aAAa,CAAC;YACxC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACpC,CAAC,CAAC;QACQ,gBAAW,GAAG,UAAC,IAA4B,EAAE,KAAe;YAClE,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;YAC9C,KAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;QAC5B,CAAC,CAAC;QACF,wBAAwB;QACd,kBAAa,GAAG,UAAC,IAA4B,EAAE,aAAoB;YACzE,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC3C,IAAI,KAAI,CAAC,QAAQ,KAAK,KAAK,EAAE;gBACzB,KAAI,CAAC,OAAO,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;aACjE;iBAAM;gBACH,KAAI,CAAC,UAAU,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;aACpE;YACD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC;QAC5D,CAAC,CAAC;QACF,uBAAuB;QACb,mBAAc,GAAG,UAAC,IAA4B,EAAE,aAAoB;YAC1E,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC;QAC7D,CAAC,CAAC;QACQ,iBAAY,GAAG,UAAC,UAAoC,EAAE,YAAsC;YAClG,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC;QAChE,CAAC,CAAC;QACQ,gBAAW,GAAG,UAAC,IAA4B;YACjD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QAC3C,CAAC,CAAC;QACQ,gBAAW,GAAG,UAAC,IAA4B,EAAE,aAAoB;YACvE,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC;QAC1D,CAAC,CAAC;QACQ,kBAAa,GAAG;YACtB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QACvC,CAAC,CAAC;QACQ,eAAU,GAAG;YACnB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACpC,CAAC,CAAC;QACQ,eAAU,GAAG;YACnB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACpC,CAAC,CAAC;QACQ,YAAO,GAAG,UAAC,aAAoB,EAAE,IAA4B;YACnE,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC;QACtD,CAAC,CAAC;QACQ,YAAO,GAAG;YAChB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACjC,CAAC,CAAC;QACQ,mBAAc,GAAG;YACvB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACxC,CAAC,CAAC;QACQ,aAAQ,GAAG;YACjB,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAClC,CAAC,CAAC;QACQ,oBAAe,GAAG,UAAC,IAA4B;YACrD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QAC/C,CAAC,CAAC;QACQ,uBAAkB,GAAG,UAAC,IAA4B,EAAE,KAAY;YACtE,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QAC1D,CAAC,CAAC;QACQ,uBAAkB,GAAG,UAAC,IAA4B;YACxD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAClD,CAAC,CAAC;QArOE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,4CAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,yCAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAGO,uDAAkB,GAA1B,UAA2B,IAAW;QAElC,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAEO,sDAAiB,GAAzB,UAA0B,IAAW;QAEjC,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IACpD,CAAC;IAEO,6CAAQ,GAAhB,UAAiB,KAAY;QAA7B,iBAeC;QAbG,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,UAAC,KAAY,EAAE,KAAY;YACxD,OAAO,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC,GAAG,CAAC,UAAC,KAAY,EAAE,KAAY;YAC9B,OAAO;gBACH,IAAI,EAAE,KAAK;gBACX,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE;gBACzC,UAAU,EAAE,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;gBAC1C,SAAS,EAAE,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;aAC3C;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;IAElD,CAAC;IAEO,4CAAO,GAAf,UAAgB,IAAW,EAAE,IAAwC;QAArE,iBAmBC;QAnB4B,kCAAwC;QAEjE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAC,WAAwB,EAAE,KAAY;YAC7D,IAAI,WAAW,CAAC,IAAI,IAAI,WAAW,CAAC,IAAI,KAAK,IAAI,EAAE;gBAC/C,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;aAC/C;YACD,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,WAAW,CAAC,SAAS,EAAE,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3E,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,GAAG;YAChB;gBACI,IAAI,EAAE,IAAI;gBACV,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE;gBACxC,UAAU,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;gBACzC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;gBACvC,IAAI,EAAE,IAAI;aACb;SACJ,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;IAElD,CAAC;IAEO,+CAAU,GAAlB,UAAmB,IAAW,EAAE,IAAwC;QAAxC,kCAAwC;QAEpE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACnB,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE;YACxC,UAAU,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;YACzC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;YACvC,IAAI,EAAE,IAAI;SACb,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;IAElD,CAAC;IACS,kDAAa,GAAvB;QAEI,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAC,YAA0B,EAAE,KAAY;YACxE,OAAO,YAAY,CAAC,IAAI,CAAC;QAC7B,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACd,OAAO,CAAC,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;IACtD,CAAC;IAwBM,6CAAQ,GAAf;QACI,IAAI,CAAC,UAAU,GAAoB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAChE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,eAAe,GAA+B;YAC9C,MAAM,EAAE,IAAI,CAAC,SAAS;SACzB,CAAC;QACF,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,SAAS,GAAqB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC;YACrF,IAAI,CAAC,IAAI,GAAG;gBACR,IAAI,EAAE,SAAS,CAAC,IAAI;gBACpB,KAAK,EAAE,SAAS,CAAC,KAAK;aACzB,CAAC;YACF,eAAe,CAAC,KAAK,GAAG,EAAE,CAAC;YAC3B,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACxD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;SACjD;QACD,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC3C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAS,CAAC,eAAe,CAAC,CAAC;QAChD,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACxB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAC5D,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YACtD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC7C,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACjE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAClE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAClE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC7D,8CAA8C;YAC9C,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YACrD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YACnD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YACrD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACvD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3C,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YACzD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAC/D,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;SAClE;QACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IA8ED,sBAAW,gDAAQ;aAAnB;YAEI,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBACxB,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,IAA4B,EAAE,KAAY;oBACvE,OAAO,IAAI,CAAC,QAAQ,CAAC;gBACzB,CAAC,CAAC,CAAC;aACN;YACD,OAAO,EAAE,CAAC;QACd,CAAC;;;OAAA;IAEM,6CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAEM,2CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IA/PsD;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;iEAA0B;IACzB;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;kEAA2B;IAC1B;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;iEAA0B;IACzB;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;4DAAqB;IACpB;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;gEAAyC;IACxC;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;6DAA2B;IAlB/E,0BAA0B;QAD/B,0BAAM,CAAC,uBAAG,CAAC,OAAO,EAAE,yBAAW,CAAC;OAC3B,0BAA0B,CA6Q/B;IAAD,iCAAC;CAAA;AAEO,gEAA0B;;;;;;;;;;;;ACjSlC,2FAA2F,aAAa,cAAc,kuB;;;;;;;;;;;;;;;;;;;;;;;ACCtH,4FAAuL;AAEvL,0HAAoC;AAGpC;IAYI,mCAAmB,OAAmB;QAT9B,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;QAUpE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,2CAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,wCAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,WAAW,GAAqB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;QACtF,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;aACtC;YACD,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;aAC1C;YACD,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;aACxC;SACJ;QACD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3D,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAEM,0CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAEO,+CAAW,GAAnB;QAAA,iBAuBC;QArBG,IAAI,MAAM,GAAO;YACb,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,KAAK;YACb,aAAa,EAAE,KAAK;YACpB,SAAS,EAAE,KAAK;YAChB,WAAW,EAAE,KAAK;YAClB,QAAQ,EAAE,IAAI;SACjB,CAAC;QACF,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;SACnC;QACD,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,MAAM,CAAC,YAAY,GAAG,UAAC,QAAY;gBAC/B,aAAa;gBACb,KAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAC/D,CAAC,CAAC;SACL;QACD,IAAI,CAAC,UAAU,GAAE,IAAI,oBAAU,CAAC,IAAI,CAAC,iBAAiB,EAAG,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;IAEhC,CAAC;IArEsD;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;8DAAwB;IACvB;QAAtD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAC,CAAC;gEAA0B;IACxB;QAAvD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAE,CAAC;6DAAuB;IACtB;QAAvD,4BAAQ,CAAC,EAAE,kBAAkB,EAAE,+BAAW,CAAC,QAAQ,EAAE,CAAC;+DAAyB;IAV9E,yBAAyB;QAD9B,0BAAM,CAAC,uBAAG,CAAC,OAAO,CAAC;OACd,yBAAyB,CA8E9B;IAAD,gCAAC;CAAA;AAEO,8DAAyB;;;;;;;;;;;;ACtFjC,6F;;;;;;;;;;;;;;;;;;;;ACCA,4FAAuL;AAEvL,iHAAyD;AACzD,iHAA0D;AAG1D;IAYI,mCAAmB,OAAmB,EAAE,eAA+B,EAAE,cAA6B;QAAtG,iBAKC;QAZO,WAAM,GAAU,8BAAU,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC;QAG9D,6BAAwB,GAAU,SAAS,CAAC;QAmD1C,aAAQ,GAAG;YACjB,IAAI,KAAI,CAAC,UAAU,EAAE;gBACjB,IAAI,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM,EAAE;oBAC1C,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,wBAAwB,CAAC;oBAC9D,KAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;iBAC5D;qBAAM;oBACH,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;oBACvC,KAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;iBAC5D;aACJ;QACL,CAAC;QACS,aAAQ,GAAG;YACjB,IAAI,KAAI,CAAC,UAAU,IAAI,KAAI,CAAC,cAAc,EAAE;gBACxC,IAAI,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE;oBAC7B,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,KAAI,CAAC,wBAAwB,CAAC;oBAC9D,KAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;iBAC5D;qBAAM;oBACH,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;oBACvC,KAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;iBAC5D;aACJ;QACL,CAAC;QAnEG,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IACrC,CAAC;IAEM,2CAAO,GAAd,UAAe,UAAgB,EAAE,MAAY;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEM,wCAAI,GAAX,UAAY,cAAmB,EAAE,eAAoB;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAChD,IAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QAC5D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;QAC/D,IAAI,CAAC,SAAS,GAAgB,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;QAC7D,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC;YAC9D,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,IAAI,IAAI,CAAC,cAAc,EAAE;gBAC9C,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;aACxC;YACD,IAAI,MAAM,KAAK,KAAK,EAAE;gBAClB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aAC1C;SACJ;QACD,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SACjE;QACD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE;YACnC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAEM,4CAAQ,GAAf;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAEM,0CAAM,GAAb;QACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAxDoC;QAApC,4BAAQ,CAAC,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;gEAAmB;IAFrD,yBAAyB;QAD9B,0BAAM,CAAC,uBAAG,CAAC,OAAO,EAAE,0CAAe,EAAE,+BAAc,CAAC;OAC/C,yBAAyB,CAiF9B;IAAD,gCAAC;CAAA;AAEO,8DAAyB;;;;;;;;;;;;;;;AC1FjC,4FAAqE;AAErE,SAAgB,SAAS,CAAC,SAAiC;IACvD,SAAS,CAAC,eAAe,CAAC;QACtB,sCAA2D;QAC3D,sCAA2D;QAC3D,sCAA2D;QAC3D,sCAA2D;QAC3D,uCAA4D;QAC5D,uCAA4D;QAC5D,2CAAgE;QAChE,uCAA4D;KAC/D,CAAC,CAAC;AACP,CAAC;AAXD,8BAWC","file":"js/app.js","sourcesContent":["import {bootstrap} from \"aurelia-bootstrapper\";\nimport {Aurelia, PLATFORM} from 'aurelia-framework';\n\ndeclare var PRODUCTION:boolean;\n\nbootstrap((aurelia: Aurelia) => {\n    aurelia.use\n        .standardConfiguration()\n        .plugin(PLATFORM.moduleName('aurelia-validation'))\n        .plugin(PLATFORM.moduleName('components/index'))\n    ;\n    if (PRODUCTION == false) {\n        aurelia.use.developmentLogging();\n    }\n    /* full aurelia app /\n    let baseApp = document.querySelector('[data-app]');\n    // @ts-ignore\n    aurelia.start().then(() => aurelia.setRoot(PLATFORM.moduleName('App'), baseApp));\n    /* full aurelia app */\n    /* enhance aurelia app */\n    aurelia.start().then(() =>\n        aurelia.enhance(document)\n    );\n    /* enhance aurelia app */\n    if (!Element.prototype.matches) {\n        // @ts-ignore\n        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n    if (!Element.prototype.closest) {\n        Element.prototype.closest = (s:any) => {\n            let el = this;\n            // @ts-ignore\n            if (!document.documentElement.contains(el)) return null;\n            do {\n                if (el.matches(s)) return el;\n                el = el.parentElement || el.parentNode;\n            } while (el !== null && el.nodeType == 1);\n            return null;\n        };\n    }\n});\n","import {inject, LogManager} from \"aurelia-framework\";\nimport {HttpClient, HttpClientConfiguration} from \"aurelia-fetch-client\";\nimport {Logger} from \"aurelia-logging\";\n\n@inject(HttpClient)\nclass AjaxService {\n    private httpClient:HttpClient;\n    private logger:Logger = LogManager.getLogger('services.AjaxService');\n\n    constructor(httpClient:HttpClient) {\n        this.httpClient = httpClient;\n        this.httpClient.configure(config => {\n            config\n                .withDefaults({\n                    headers: {\n                        'X-Requested-With': 'XMLHttpRequest',\n                    },\n                    credentials:'include'\n                });\n        });\n        this.logger.debug('Constructor');\n    }\n\n    public getBlocs(route:string, formData:FormData)\n    {\n        this.logger.debug('getBlocs', route);\n        return this.httpClient.fetch(route, {\n            method: 'post',\n            body: formData,\n        });\n    }\n\n    private modal:any = null;\n    public getModal()\n    {\n        this.logger.debug('getModal');\n        if (this.modal === null) {\n            this.modal =  this.httpClient.fetch('/admin/ajax/modal', {\n                method: 'get'\n            }).then((response:Response) => {\n                return response.text();\n            });\n        }\n        return this.modal;\n    }\n    public getDetailModal(type:string, id:string)\n    {\n        this.logger.debug('getDetailModal');\n        this.modal =  this.httpClient.fetch('/admin/ajax/modal?id='+id+'&type='+type, {\n            method: 'get'\n        }).then((response:Response) => {\n            return response.text();\n        });\n        return this.modal;\n\n    }\n    public getRequest(url:string)\n    {\n        this.logger.debug('getRequest');\n        return this.httpClient.fetch(url, { method: 'get'})\n            .then((response:Response) => {\n                return response.text();\n            });\n    }\n    public deleteRequest(url:string, csrf:string = '')\n    {\n        this.logger.debug('deleteRequest');\n        return this.httpClient.fetch(url, { method: 'delete', headers: {'X-CSRF-Token': csrf}});\n    }\n}\n\nexport {AjaxService}\n","class StorageService\n{\n    public getElementSlugOpened(elementId:string):boolean\n    {\n        if (elementId !== '') {\n            const storageStatus = localStorage.getItem('admin:element:'+elementId+':slug:opened');\n            return storageStatus === '1';\n        }\n        return false;\n    }\n\n    public setElementSlugOpened(elementId:string)\n    {\n        if (elementId !== '') {\n            localStorage.setItem('admin:element:'+elementId+':slug:opened', '1');\n        }\n    }\n\n    public setElementSlugClosed(elementId:string)\n    {\n        if (elementId !== '') {\n            localStorage.removeItem('admin:element:'+elementId+':slug:opened');\n        }\n    }\n}\n\nexport {StorageService}\n","declare var webpackBaseUrl: string;\ndeclare var __webpack_public_path__: string;\nif (webpackBaseUrl !== undefined) {\n    __webpack_public_path__ = webpackBaseUrl;\n}\n","/* (ignored) */","\nimport {DOM, inject, noView, bindable, bindingMode, TemplatingEngine, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {Logger} from \"aurelia-logging\";\nimport {AjaxService} from \"../services/AjaxService\";\n\n@inject(DOM.Element, TemplatingEngine, AjaxService)\nclass AjaxLinkManagerCustomAttribute implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLElement;\n    private logger:Logger = LogManager.getLogger('components.AjaxLinkManager');\n    private ajaxService:AjaxService;\n    private templatingEngine:TemplatingEngine;\n    private form:HTMLFormElement;\n\n    public constructor(element:HTMLElement, templatingEngine:TemplatingEngine, ajaxService:AjaxService) {\n        this.element = element;\n        this.templatingEngine = templatingEngine;\n        this.ajaxService = ajaxService;\n        this.logger.debug('Constructor');\n    }\n\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n    public attached(): void {\n        this.logger.debug('Attached');\n        this.element.addEventListener('click', this.onDelegateClick);\n    }\n\n    protected onDelegateClick = (evt:Event) => {\n        if (evt.target) {\n            //@ts-ignore\n            let currentLink = <HTMLLinkElement>evt.target.closest('a[data-ajax]');\n            if (currentLink && this.element.contains(currentLink)) {\n                evt.preventDefault();\n                this.logger.debug('delegateClick');\n                let url = currentLink.href;\n                this.ajaxService.getRequest(url)\n                    .then((html:string) => {\n                        this.element.innerHTML = html;\n                        /*/\n                        this.templatingEngine.enhance({\n                            element:this.element,\n                            bindingContext: this\n                        })\n                        /*/\n                    });\n            }\n        }\n    };\n\n    public detached(): void {\n        this.logger.debug('Detached');\n        this.element.removeEventListener('click', this.onDelegateClick);\n    }\n\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n}\n\nexport {AjaxLinkManagerCustomAttribute}\n","import {DOM, inject, noView, bindable, bindingMode, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {Logger} from \"aurelia-logging\";\nimport {EventAggregator} from \"aurelia-event-aggregator\";\nimport {StorageService} from \"../services/StorageService\";\nimport {AjaxService} from \"../services/AjaxService\";\n\n@inject(DOM.Element, AjaxService)\nclass AttachModalCustomAttribute implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLFormElement;\n    @bindable({ primaryProperty: true }) url: string;\n    private logger:Logger = LogManager.getLogger('components.AttachModal');\n    private ajaxService:AjaxService;\n    private ready:boolean = false;\n    private readyCount:number = 0;\n    private modal:HTMLDivElement;\n    private backdrop:HTMLDivElement;\n    private modalCross:HTMLButtonElement;\n    private modalOk:HTMLButtonElement;\n    private modalClose:HTMLButtonElement;\n    private modalView:string;\n    private currentForm:HTMLFormElement;\n    public constructor(element:HTMLFormElement, ajaxService:AjaxService) {\n        this.element = element;\n        this.logger.debug('Constructor');\n        this.ajaxService = ajaxService;\n    }\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n    public attached(): void {\n        this.logger.debug('Attached');\n        this.element.addEventListener('submit', this.onDelegateSubmit);\n    }\n\n    public detached(): void {\n        this.element.removeEventListener('submit', this.onDelegateSubmit);\n        this.logger.debug('Detached');\n    }\n\n    protected onDelegateSubmit = (evt:Event) => {\n        if (evt.target) {\n            //@ts-ignore\n            this.currentForm = <HTMLFormElement>evt.target.closest('form[data-ajax-modal]');\n            if (this.currentForm && this.element.contains(this.currentForm)) {\n                evt.preventDefault();\n                let url = this.currentForm.dataset.ajaxModal;\n                if (url) {\n                    this.ajaxService.getRequest(url)\n                        .then((modal:string) => {\n                            this.modalView = modal;\n                            this.attachModal();\n                        });\n                }\n            }\n        }\n    };\n\n    protected attachModal() {\n        document.body.insertAdjacentHTML('afterbegin', this.modalView);\n        this.modal = <HTMLDivElement>document.querySelector('#modal-delete');\n        this.backdrop = <HTMLDivElement>document.querySelector('#modal-delete-backdrop');\n        this.modalCross = <HTMLButtonElement>this.modal.querySelector('#modal-delete-cross');\n        this.modalClose = <HTMLButtonElement>this.modal.querySelector('#modal-delete-close');\n        this.modalOk = <HTMLButtonElement>this.modal.querySelector('#modal-delete-ok');\n        this.modalClose.addEventListener('click', this.onClose);\n        this.modalCross.addEventListener('click', this.onClose);\n        this.modal.addEventListener('click', this.onClose);\n        this.modalOk.addEventListener('click', this.onSubmitOk);\n    }\n\n    protected detachModal() {\n        if (this.modalClose) {\n            this.modalClose.removeEventListener('click', this.onClose);\n        }\n        if (this.modalCross) {\n            this.modalCross.removeEventListener('click', this.onClose);\n        }\n        if (this.modalOk) {\n            this.modalOk.removeEventListener('click', this.onSubmitOk);\n        }\n        if (this.modal) {\n            this.modal.removeEventListener('click', this.onClose);\n            this.modal.remove();\n        }\n        if (this.backdrop) {\n            this.backdrop.remove();\n        }\n    }\n    protected onSubmitOk = (evt:Event) => {\n        this.detachModal();\n        this.currentForm.submit();\n\n    };\n    protected onClose = (evt:Event) => {\n        this.detachModal();\n    };\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n}\n\nexport {AttachModalCustomAttribute}\n","\nimport {DOM, inject, noView, bindable, bindingMode, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {EventAggregator, Subscription} from 'aurelia-event-aggregator';\nimport {Logger} from \"aurelia-logging\";\n\n@inject(DOM.Element, EventAggregator)\nclass HtmlLoaderCustomAttribute implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLElement;\n    private eventAggregator:EventAggregator;\n    private subscriber:Subscription;\n\n    private logger:Logger = LogManager.getLogger('components.HtmlLoader');\n\n    public constructor(element:HTMLElement, eventAggregator) {\n        this.element = element;\n        this.eventAggregator = eventAggregator;\n        this.logger.debug('Constructor');\n    }\n\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n    public attached(): void {\n        this.logger.debug('Attached');\n        this.subscriber = this.eventAggregator.subscribe('RemoveLoader', this.onRemoveLoader);\n    }\n\n    public detached(): void {\n        this.logger.debug('Detached');\n        this.subscriber.dispose();\n    }\n\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n\n    protected onRemoveLoader = (data:any) =>\n    {\n        this.logger.debug('Remove loader');\n        this.element.style.display = 'none';\n    }\n}\n\nexport {HtmlLoaderCustomAttribute}\n","\nimport {DOM, inject, noView, bindable, bindingMode, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {EventAggregator, Subscription} from 'aurelia-event-aggregator';\nimport {Logger} from \"aurelia-logging\";\n\n@inject(DOM.Element, EventAggregator)\nclass LoaderDoneCustomAttribute implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLElement;\n    private eventAggregator:EventAggregator;\n\n    private logger:Logger = LogManager.getLogger('components.LoaderDone');\n\n    public constructor(element:HTMLElement, eventAggregator) {\n        this.element = element;\n        this.eventAggregator = eventAggregator;\n        this.logger.debug('Constructor');\n    }\n\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n    public attached(): void {\n        this.logger.debug('Attached');\n        this.eventAggregator.publish('RemoveLoader', {});\n    }\n\n    public detached(): void {\n        this.logger.debug('Detached');\n    }\n\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n\n    protected onRemoveLoader = (data:any) =>\n    {\n        this.logger.debug('Remove loader');\n        this.element.style.display = 'none';\n    }\n}\n\nexport {LoaderDoneCustomAttribute}\n","\nimport {DOM, inject, noView, bindable, TemplatingEngine, bindingMode, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {Logger} from \"aurelia-logging\";\nimport {AjaxService} from \"../services/AjaxService\";\n\n@inject(DOM.Element, TemplatingEngine, AjaxService)\nclass ManageBlocsCustomAttribute implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLElement;\n    @bindable({ primaryProperty: true }) url: string;\n    private logger:Logger = LogManager.getLogger('components.ManageBlocs');\n    private templatingEngine:TemplatingEngine;\n    private ajaxService:AjaxService;\n    private form:HTMLFormElement;\n    private ajaxTarget:HTMLElement;\n\n    public constructor(element:HTMLElement, templatingEngine:TemplatingEngine, ajaxService:AjaxService) {\n        this.element = element;\n        this.templatingEngine = templatingEngine;\n        this.ajaxService = ajaxService;\n        this.logger.debug('Constructor');\n    }\n\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n    public attached(): void {\n        this.logger.debug('Attached');\n        this.logger.debug(this.url);\n        this.form = <HTMLFormElement>this.element.closest('form');\n        this.ajaxTarget = <HTMLElement>this.element.querySelector('[data-ajax-target]');\n        if (this.ajaxTarget === null) {\n            this.ajaxTarget = this.element;\n        }\n        this.element.addEventListener('click', this.onDelegateClick);\n    }\n\n    protected onDelegateClick = (evt:Event) => {\n        if (evt.target) {\n            //@ts-ignore\n            let currentButton = <HTMLButtonElement>evt.target.closest('button[type=button]');\n            if (currentButton && this.element.contains(currentButton)) {\n                this.logger.debug('delegateClick');\n                if (currentButton.name) {\n                    let formData = new FormData(this.form);\n                    formData.append(currentButton.name, currentButton.value);\n                    this.ajaxService.getBlocs(this.url, formData)\n                        .then(response => {\n                            if (response.status == 200) {\n                                response.text().then((text:string) => {\n                                    this.ajaxTarget.innerHTML = text;\n                                    this.templatingEngine.enhance({\n                                        element: this.ajaxTarget,\n                                        bindingContext: this\n                                    })\n                                })\n                            }\n                        });\n                }\n            }\n        }\n    };\n\n    public detached(): void {\n        this.logger.debug('Detached');\n        this.element.removeEventListener('click', this.onDelegateClick);\n    }\n\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n}\n\nexport {ManageBlocsCustomAttribute}\n","\nimport {DOM, inject, noView, bindable, bindingMode, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {Logger} from \"aurelia-logging\";\nimport {AjaxService} from \"../services/AjaxService\";\nimport Resumable from \"resumablejs\"\n\ninterface UploadedFile {\n    name:string,\n    shortname:string|undefined,\n    previewUrl:string,\n    deleteUrl:string,\n    file?:Resumable.ResumableFile|null\n}\ninterface Csrf {\n    name:string,\n    value:string\n}\n@inject(DOM.Element, AjaxService)\nclass ResumableFileCustomElement implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLElement;\n    private logger:Logger = LogManager.getLogger('components.ResumableFile');\n    private resumable:Resumable;\n    public browseButton:HTMLButtonElement;\n    public dropTarget:HTMLElement;\n    private parentForm:HTMLFormElement;\n    public hiddenField:HTMLInputElement;\n    private handledFiles:UploadedFile[];\n    private ajaxService:AjaxService;\n    private csfr:Csrf;\n\n\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public uploadUrl: string;\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public previewUrl: string;\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public deleteUrl: string;\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public name: string;\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public multiple: string|boolean = false;\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public value: string = '';\n\n    public constructor(element:HTMLElement, ajaxService:AjaxService) {\n        this.element = element;\n        this.ajaxService = ajaxService;\n        this.logger.debug('Constructor');\n    }\n\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n\n    private generatePreviewUrl(name:string)\n    {\n        return this.previewUrl.replace('__name__', name);\n    }\n\n    private generateDeleteUrl(name:string)\n    {\n        return this.deleteUrl.replace('__name__', name);\n    }\n\n    private setFiles(value:string)\n    {\n        let files = value.split(/\\s*,\\s*/);\n        this.handledFiles = files.filter((value:string, index:number) => {\n            return value.trim() !== '';\n        }).map((value:string, index:number) => {\n            return {\n                name: value,\n                shortname: value.split(/.*[\\/|\\\\]/).pop(),\n                previewUrl: this.generatePreviewUrl(value),\n                deleteUrl: this.generateDeleteUrl(value)\n            }\n        });\n        this.hiddenField.value = this.getFilesValue();\n\n    }\n\n    private setFile(name:string, file:Resumable.ResumableFile|null = null)\n    {\n        this.handledFiles.forEach((handledFile:UploadedFile, index:number) => {\n            if (handledFile.file && handledFile.file !== null) {\n                this.resumable.removeFile(handledFile.file);\n            }\n            this.ajaxService.deleteRequest(handledFile.deleteUrl, this.csfr.value);\n        });\n        this.handledFiles = [\n            {\n                name: name,\n                shortname: name.split(/.*[\\/|\\\\]/).pop(),\n                previewUrl: this.generatePreviewUrl(name),\n                deleteUrl: this.generateDeleteUrl(name),\n                file: file\n            }\n        ];\n        this.hiddenField.value = this.getFilesValue();\n\n    }\n\n    private appendFile(name:string, file:Resumable.ResumableFile|null = null)\n    {\n        this.handledFiles.push({\n            name: name,\n            shortname: name.split(/.*[\\/|\\\\]/).pop(),\n            previewUrl: this.generatePreviewUrl(name),\n            deleteUrl: this.generateDeleteUrl(name),\n            file: file\n        });\n        this.hiddenField.value = this.getFilesValue();\n\n    }\n    protected getFilesValue()\n    {\n        let mapped = this.handledFiles.map((uploadedFile: UploadedFile, index:number) => {\n            return uploadedFile.name;\n        }).join(', ');\n        return (typeof mapped === 'string') ? mapped : '';\n    }\n\n    public onRemove = (handledFile:UploadedFile) =>\n    {\n        this.logger.debug('Should remove file', handledFile);\n        let fileIndex:number|null = null;\n        this.handledFiles.forEach((file:UploadedFile, index:number) => {\n           if (handledFile.name === file.name) {\n               fileIndex = index;\n           }\n        });\n        if (fileIndex !== null && fileIndex >= 0) {\n            if (handledFile.file && handledFile.file !== null) {\n                this.resumable.removeFile(handledFile.file);\n            }\n            this.handledFiles.splice(fileIndex, 1);\n            this.ajaxService.deleteRequest(handledFile.deleteUrl, this.csfr.value);\n            // should call WS delete\n        }\n        let fieldValue = this.getFilesValue();\n        this.hiddenField.value = fieldValue;\n\n    };\n\n    public attached(): void {\n        this.parentForm = <HTMLFormElement>this.element.closest('form');\n        this.logger.debug('Multiple', this.multiple);\n        let resumableConfig:Resumable.ConfigurationHash = {\n            target: this.uploadUrl\n        };\n        if (this.parentForm) {\n            let csrfField = <HTMLInputElement>this.parentForm.querySelector('input[name=_csrf]');\n            this.csfr = {\n                name: csrfField.name,\n                value: csrfField.value\n            };\n            resumableConfig.query = {};\n            resumableConfig.query[this.csfr.name] = this.csfr.value;\n            this.logger.debug('CSRF : ', csrfField.value);\n        }\n        this.hiddenField = document.createElement('input');\n        this.hiddenField.type = 'hidden';\n        this.hiddenField.name = this.name;\n        this.element.appendChild(this.hiddenField);\n        this.setFiles(this.value);\n        this.resumable = new Resumable(resumableConfig);\n        if (this.resumable.support) {\n            this.logger.debug('Resume js supported', this.browseButton);\n            this.resumable.assignBrowse(this.browseButton, false);\n            this.resumable.assignDrop(this.browseButton);\n            this.browseButton.addEventListener('dragover', this.onDragEnter);\n            this.browseButton.addEventListener('dragenter', this.onDragEnter);\n            this.browseButton.addEventListener('dragleave', this.onDragLeave);\n            this.browseButton.addEventListener('drop', this.onDragLeave);\n            // this.resumable.assignDrop(this.dropTarget);\n            this.resumable.on('fileAdded', this.onFileAdded);\n            this.resumable.on('fileSuccess', this.onFileSuccess);\n            this.resumable.on('fileProgress', this.onFileProgress);\n            this.resumable.on('filesAdded', this.onFilesAdded);\n            this.resumable.on('fileRetry', this.onFileRetry);\n            this.resumable.on('fileError', this.onFileError);\n            this.resumable.on('uploadStart', this.onUploadStart);\n            this.resumable.on('complete', this.onComplete);\n            this.resumable.on('progress', this.onProgress);\n            this.resumable.on('error', this.onError);\n            this.resumable.on('pause', this.onPause);\n            this.resumable.on('beforeCancel', this.onBeforeCancel);\n            this.resumable.on('cancel', this.onCancel);\n            this.resumable.on('chunkingStart', this.onChunkingStart);\n            this.resumable.on('chunkingProgress', this.onChunkingProgress);\n            this.resumable.on('chunkingComplete', this.onChunkingComplete);\n        }\n        this.logger.debug('Attached');\n    }\n\n    protected onDragEnter = (evt:DragEvent) => {\n        evt.preventDefault();\n        let el = <HTMLElement>evt.currentTarget;\n        let dt = evt.dataTransfer;\n        if (dt && dt.types.indexOf('Files') >= 0) {\n            evt.stopPropagation();\n            dt.dropEffect = 'copy';\n            dt.effectAllowed = 'copy';\n            el.classList.add('dragover');\n        } else if (dt) {\n            dt.dropEffect = 'none';\n            dt.effectAllowed = 'none';\n        }\n    };\n    protected onDragLeave = (evt:Event) => {\n        let el = <HTMLElement>evt.currentTarget;\n        el.classList.remove('dragover');\n    };\n    protected onFileAdded = (file:Resumable.ResumableFile, event:DragEvent) => {\n        this.logger.debug('onFileAdded', file, event);\n        this.resumable.upload();\n    };\n    // File upload completed\n    protected onFileSuccess = (file:Resumable.ResumableFile, serverMessage:string) => {\n        const response = JSON.parse(serverMessage);\n        if (this.multiple === false) {\n            this.setFile('@blackcubetmp/' + response.finalFilename, file);\n        } else {\n            this.appendFile('@blackcubetmp/' + response.finalFilename, file);\n        }\n        this.logger.debug('onFileSuccess', file, serverMessage);\n    };\n    // File upload progress\n    protected onFileProgress = (file:Resumable.ResumableFile, serverMessage:string) => {\n        this.logger.debug('onFileProgress', file, serverMessage);\n    };\n    protected onFilesAdded = (filesAdded:Resumable.ResumableFile[], filesSkipped:Resumable.ResumableFile[]) => {\n        this.logger.debug('onFilesAdded', filesAdded, filesSkipped);\n    };\n    protected onFileRetry = (file:Resumable.ResumableFile) => {\n        this.logger.debug('onFileRetry', file);\n    };\n    protected onFileError = (file:Resumable.ResumableFile, serverMessage:string) => {\n        this.logger.debug('onFileError', file, serverMessage);\n    };\n    protected onUploadStart = () => {\n        this.logger.debug('onUploadStart');\n    };\n    protected onComplete = () => {\n        this.logger.debug('onComplete');\n    };\n    protected onProgress = () => {\n        this.logger.debug('onProgress');\n    };\n    protected onError = (serverMessage:string, file:Resumable.ResumableFile) => {\n        this.logger.debug('onError', file, serverMessage);\n    };\n    protected onPause = () => {\n        this.logger.debug('onPause');\n    };\n    protected onBeforeCancel = () => {\n        this.logger.debug('onBeforeCancel');\n    };\n    protected onCancel = () => {\n        this.logger.debug('onCancel');\n    };\n    protected onChunkingStart = (file:Resumable.ResumableFile) => {\n        this.logger.debug('onChunkingStart', file);\n    };\n    protected onChunkingProgress = (file:Resumable.ResumableFile, ratio:number) => {\n        this.logger.debug('onChunkingProgressd', file, ratio);\n    };\n    protected onChunkingComplete = (file:Resumable.ResumableFile) => {\n        this.logger.debug('onChunkingComplete', file);\n    };\n\n    public get getFiles()\n    {\n        if (this.resumable.support) {\n            return this.resumable.files.map((file:Resumable.ResumableFile, index:number) => {\n                return file.fileName;\n            });\n        }\n        return [];\n    }\n\n    public detached(): void {\n        this.logger.debug('Detached');\n    }\n\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n}\n\nexport {ResumableFileCustomElement}\n","module.exports = \"<template>\\n    <!-- div ref=\\\"dropTarget\\\" style=\\\"border:1px solid red; width:200px; height:200px;\\\"></div -->\\n    <button type=\\\"button\\\" ref=\\\"browseButton\\\" class=\\\"uploader\\\">\\n        <i class=\\\"fa fa-cloud-upload-alt\\\"></i>\\n    </button>\\n    <ul class=\\\"w-full\\\">\\n        <li class=\\\"inline-block text-gray-600 text-center p-2 relative\\\" repeat.for=\\\"handledFile of handledFiles\\\">\\n            <button click.delegate=\\\"onRemove(handledFile)\\\" class=\\\"absolute top-0 right-0 rounded-full p-1 text-center bg-white border-gray-600 border h-6 w-6 flex items-center justify-center text-xs\\\">\\n                <i class=\\\"fa fa-trash-alt\\\"></i>\\n            </button>\\n            <img class=\\\"object-contain h-24\\\" src.bind=\\\"handledFile.previewUrl\\\" title.bind=\\\"handledFile.shortname\\\">\\n        </li>\\n    </ul>\\n</template>\\n\";","\nimport {DOM, inject, noView, bindable, bindingMode, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {Logger} from \"aurelia-logging\";\nimport JSONEditor from 'jsoneditor';\n\n@inject(DOM.Element)\nclass SchemaEditorCustomElement implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLElement;\n    private jsonEditorElement:HTMLElement|null;\n    private logger:Logger = LogManager.getLogger('components.SchemaEditor');\n    private jsonSchema:JSONEditor;\n    private externalField:HTMLInputElement|null;\n    private hiddenField:HTMLInputElement|null;\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public fieldId: string;\n    @bindable({ defaultBindingMode: bindingMode.fromView}) public fieldName: string;\n    @bindable({ defaultBindingMode: bindingMode.fromView }) public schema: string;\n    @bindable({ defaultBindingMode: bindingMode.fromView }) public language: string;\n\n    public constructor(element:HTMLElement) {\n        this.element = element;\n        this.logger.debug('Constructor');\n    }\n\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n    public attached(): void {\n        this.hiddenField = <HTMLInputElement>this.element.querySelector('input[type=hidden]');\n        if (this.hiddenField) {\n            if (this.fieldId) {\n                this.hiddenField.id = this.fieldId;\n            }\n            if (this.fieldName) {\n                this.hiddenField.name = this.fieldName;\n            }\n            if (this.schema) {\n                this.hiddenField.value = this.schema;\n            }\n        }\n        this.jsonEditorElement = this.element.querySelector('div');\n        if (this.jsonEditorElement) {\n            this.buildEditor();\n        }\n        this.logger.debug('Attached');\n    }\n\n    public detached(): void {\n        this.logger.debug('Detached');\n    }\n\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n\n    private buildEditor()\n    {\n        let config:any = {\n            mode: \"tree\",\n            search: false,\n            navigationBar: false,\n            statusBar: false,\n            mainMenuBar: false,\n            language: \"en\"\n        };\n        if (this.language) {\n            config.language = this.language;\n        }\n        if (this.hiddenField) {\n            config.onChangeJSON = (jsonData:any) => {\n                // @ts-ignore\n                this.hiddenField.value = JSON.stringify(jsonData, null, 4);\n            };\n        }\n        this.jsonSchema =new JSONEditor(this.jsonEditorElement,  config);\n        this.jsonSchema.setText(this.schema);\n        this.jsonSchema.expandAll();\n\n    }\n\n}\n\nexport {SchemaEditorCustomElement}\n","module.exports = \"<template>\\n    <input type=\\\"hidden\\\" />\\n    <div></div>\\n</template>\\n\";","\nimport {DOM, inject, noView, bindable, bindingMode, LogManager, ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind, View} from 'aurelia-framework';\nimport {Logger} from \"aurelia-logging\";\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {StorageService} from \"../services/StorageService\";\n\n@inject(DOM.Element, EventAggregator, StorageService)\nclass ToggleSlugCustomAttribute implements ComponentCreated, ComponentBind, ComponentAttached, ComponentDetached, ComponentUnbind {\n    private element:HTMLElement;\n    @bindable({ primaryProperty: true }) elementId: string;\n    private eventAggregator:EventAggregator;\n    private storageService:StorageService;\n    private logger:Logger = LogManager.getLogger('components.ToggleSlug');\n    private toggleCheckbox:HTMLInputElement|null;\n    private toggleBloc:HTMLElement|null;\n    private toggleBlocInitialDisplay:string = 'inherit';\n    private titleBloc:HTMLElement|null;\n    private currentStatusInput:HTMLInputElement|null;\n\n    public constructor(element:HTMLElement, eventAggregator:EventAggregator, storageService:StorageService) {\n        this.element = element;\n        this.eventAggregator = eventAggregator;\n        this.storageService = storageService;\n        this.logger.debug('Constructor');\n    }\n\n    public created(owningView: View, myView: View): void {\n        this.logger.debug('Created');\n    }\n\n    public bind(bindingContext: any, overrideContext: any): void {\n        this.logger.debug('Bind');\n    }\n\n    public attached(): void {\n        this.logger.debug('Current ID', this.elementId);\n        let opened = this.storageService.getElementSlugOpened(this.elementId);\n        this.toggleCheckbox = this.element.querySelector('.toggle');\n        this.toggleBloc = this.element.querySelector('.toggle-target');\n        this.titleBloc = <HTMLElement>this.element.firstElementChild;\n        if (this.toggleBloc) {\n            this.toggleBlocInitialDisplay = this.toggleBloc.style.display;\n            if (this.elementId === '' && this.toggleCheckbox) {\n                opened = this.toggleCheckbox.checked;\n            }\n            if (opened === false) {\n                this.toggleBloc.style.display = 'none';\n            }\n        }\n        if (this.toggleCheckbox) {\n            this.toggleCheckbox.addEventListener('change', this.onChange);\n        }\n        if (this.titleBloc && this.toggleBloc) {\n            this.titleBloc.addEventListener('click', this.onToggle);\n        }\n        this.eventAggregator.publish('RemoveLoader', {});\n        this.logger.debug('Attached');\n    }\n\n    public detached(): void {\n        this.logger.debug('Detached');\n    }\n\n    public unbind(): void {\n        this.logger.debug('Unbind');\n    }\n    protected onToggle = () => {\n        if (this.toggleBloc) {\n            if (this.toggleBloc.style.display === 'none') {\n                this.toggleBloc.style.display = this.toggleBlocInitialDisplay;\n                this.storageService.setElementSlugOpened(this.elementId);\n            } else {\n                this.toggleBloc.style.display = 'none';\n                this.storageService.setElementSlugClosed(this.elementId);\n            }\n        }\n    }\n    protected onChange = () => {\n        if (this.toggleBloc && this.toggleCheckbox) {\n            if (this.toggleCheckbox.checked) {\n                this.toggleBloc.style.display = this.toggleBlocInitialDisplay;\n                this.storageService.setElementSlugOpened(this.elementId);\n            } else {\n                this.toggleBloc.style.display = 'none';\n                this.storageService.setElementSlugClosed(this.elementId);\n            }\n        }\n    }\n}\n\nexport {ToggleSlugCustomAttribute}\n","import { FrameworkConfiguration, PLATFORM } from 'aurelia-framework';\n\nexport function configure(configure: FrameworkConfiguration) {\n    configure.globalResources([\n        PLATFORM.moduleName('components/SchemaEditorCustomElement'),\n        PLATFORM.moduleName('components/ToggleSlugCustomAttribute'),\n        PLATFORM.moduleName('components/HtmlLoaderCustomAttribute'),\n        PLATFORM.moduleName('components/LoaderDoneCustomAttribute'),\n        PLATFORM.moduleName('components/ManageBlocsCustomAttribute'),\n        PLATFORM.moduleName('components/AttachModalCustomAttribute'),\n        PLATFORM.moduleName('components/AjaxLinkManagerCustomAttribute'),\n        PLATFORM.moduleName('components/ResumableFileCustomElement')\n    ]);\n}\n"],"sourceRoot":""}